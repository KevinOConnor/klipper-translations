# Слайсери

Този документ предоставя някои съвети за конфигуриране на приложение "slicer" за използване с Klipper. Често срещани слайсери, използвани с Klipper, са Slic3r, Cura, Simplify3D и др.

## Задайте вкуса на G-кода на Marlin

Много машини за нарязване имат възможност за конфигуриране на "вкуса на G-кода". По подразбиране често се избира "Marlin" и това работи добре с Klipper. Настройката "Smoothieware" също работи добре с Klipper.

## Klipper gcode_macro

Резачките често позволяват конфигуриране на последователности "Начален G-код" и "Краен G-код". Вместо това често е удобно да се дефинират потребителски макроси в конфигурационния файл на Klipper - например: `[gcode_macro START_PRINT]` и `[gcode_macro END_PRINT]`. След това можете просто да стартирате START_PRINT и END_PRINT в конфигурацията на слайзера. Дефинирането на тези действия в конфигурацията на Klipper може да улесни промяната на началните и крайните стъпки на принтера, тъй като промените не изискват повторно нарязване.

Вижте [sample-macros.cfg](../config/sample-macros.cfg) за примерни макроси START_PRINT и END_PRINT.

Вижте [config reference](Config_Reference.md#gcode_macro) за подробности относно дефинирането на gcode_macro.

## Големите настройки на прибиране може да изискват настройка на клипса

Максималната скорост и ускорението на движенията за прибиране се контролират в Klipper чрез конфигурационните настройки `max_extrude_only_velocity` и `max_extrude_only_accel`. Тези настройки имат стойност по подразбиране, която би трябвало да работи добре при много принтери. Въпреки това, ако някой е конфигурирал голямо прибиране в слайсера (например 5 мм или повече), може да се окаже, че те ограничават желаната скорост на прибиране.

Ако използвате голямо прибиране, помислете за настройване на [аванс на налягането] на Klipper (Pressure_Advance.md) вместо това. В противен случай, ако установите, че главата на инструмента сякаш "спира" по време на прибиране и грундиране, помислете за изрично дефиниране на `max_extrude_only_velocity` и `max_extrude_only_accel` в конфигурационния файл на Klipper.

## Не разрешавайте функцията "coasting".

Възможно е функцията за изчакване да доведе до ниско качество на разпечатките с Klipper. Вместо това помислете за използване на функцията [pressure advance](Pressure_Advance.md) на Klipper.

По-конкретно, ако слайсерът рязко променя скоростта на екструдиране между ходовете, Klipper ще извършва забавяне и ускоряване между ходовете. Това вероятно ще влоши, а не ще подобри блобинга.

За разлика от това е добре (и често е полезно) да използвате настройките "прибиране", "избърсване" и/или "избърсване при прибиране" на резачката.

## Не използвайте "допълнително разстояние за рестартиране" в Simplify3d

Тази настройка може да доведе до драстични промени в скоростта на екструдиране, които могат да задействат проверката на Klipper за максимално напречно сечение на екструдиране. Вместо това помислете за използване на [pressure advance] (Pressure_Advance.md) на Klipper или обикновената настройка за прибиране на Simplify3d.

## Деактивиране на "PreloadVE" на KISSlicer

Ако използвате софтуера за нарязване KISSlicer, задайте "PreloadVE" на нула. Вместо това помислете за използване на [Pressure advance] (Pressure_Advance.md) на Klipper.

## Деактивирайте всички настройки за "разширено налягане на екструдера".

Някои машини за нарязване рекламират възможността за "усъвършенствано налягане на екструдера". Препоръчително е тези опции да бъдат изключени, когато използвате Klipper, тъй като има вероятност да доведат до ниско качество на разпечатките. Вместо това помислете за използване на [pressure advance](Pressure_Advance.md) на Klipper.

По-конкретно, тези настройки на слайсерите могат да инструктират фърмуера да прави дивашки промени в скоростта на екструдиране с надеждата, че фърмуерът ще се доближи до тези заявки и принтерът приблизително ще получи желаното налягане на екструдера. Klipper обаче използва прецизни кинематични изчисления и синхронизация. Когато Klipper получи команда да направи значителни промени в скоростта на екструдиране, той ще планира съответните промени в скоростта, ускорението и движението на екструдера - което не е целта на слайсера. Режещата машина може дори да подаде команда за прекомерна скорост на екструдиране до такава степен, че да задейства проверката на Klipper за максимално сечение на екструдиране.

За разлика от това е добре (и често е полезно) да използвате настройките "прибиране", "избърсване" и/или "избърсване при прибиране" на резачката.

## Макроси START_PRINT

Когато се използва макрос START_PRINT или друг подобен макрос, понякога е полезно да се предават параметри от променливите на слайсера към макроса.

В Cura за преминаване през температурите ще се използва следният стартов gcode:

```
START_PRINT BED_TEMP={материал_легло_температура_слой_0} EXTRUDER_TEMP={материал_печатане_температура_слой_0}
```

В производните на slic3r, като PrusaSlicer и SuperSlicer, се използва следното:

```
START_PRINT EXTRUDER_TEMP=[температура на първия_слой] BED_TEMP=[температура на първия_слой_легло]
```

Също така имайте предвид, че тези резачки въвеждат свои собствени кодове за нагряване, когато не са изпълнени определени условия. В Cura съществуването на променливите `{материал_легло_температура_слой_0}` и `{материал_печат_температура_слой_0}` е достатъчно, за да се смекчи това. В производните на slic3r ще използвате:

```
M140 S0
M104 S0
```

преди извикването на макроса. Също така имайте предвид, че SuperSlicer има опция за бутон "само потребителски gcode", с която се постига същият резултат.

Пример за макрос START_PRINT, използващ тези параметри, можете да намерите в config/sample-macros.cfg
