# எண்ட்ச்டாப் கட்டம்

இந்த ஆவணம் கிளிப்பரின் ச்டெப்பர் கட்டம் சரிசெய்யப்பட்ட எண்ட்ச்டாப் அமைப்பை விவரிக்கிறது. இந்த செயல்பாடு பாரம்பரிய எண்ட்ச்டாப் சுவிட்சுகளின் துல்லியத்தை மேம்படுத்த முடியும். ரன்-டைம் உள்ளமைவைக் கொண்ட டிரினாமிக் ச்டெப்பர் மின்னோடி டிரைவரைப் பயன்படுத்தும் போது இது மிகவும் பயனுள்ளதாக இருக்கும்.

ஒரு பொதுவான எண்ட்ச்டாப் சுவிட்ச் சுமார் 100 மைக்ரான் துல்லியத்தைக் கொண்டுள்ளது. . குறிப்பாக, ஒரு பொருளின் முதல் அடுக்கை அச்சிடும்போது இந்த நிலை விலகல் கவனிக்கப்படலாம். இதற்கு மாறாக, வழக்கமான ச்டெப்பர் மோட்டார்கள் கணிசமாக அதிக துல்லியத்தைப் பெறலாம்.

ச்டெப்பர் கட்ட சரிசெய்யப்பட்ட எண்ட்ச்டாப் பொறிமுறையானது ச்டெப்பர் மோட்டார்சின் துல்லியத்தைப் பயன்படுத்தி எண்ட்ச்டாப் சுவிட்சுகளின் துல்லியத்தை மேம்படுத்தலாம். ஒரு ச்டெப்பர் மின்னோடி தொடர்ச்சியான கட்டங்கள் மூலம் சைக்கிள் ஓட்டுவதன் மூலம் நான்கு "முழு படிகளை" நிறைவு செய்யும் வரை நகர்கிறது. எனவே, 16 மைக்ரோ-படிகளைப் பயன்படுத்தும் ஒரு ச்டெப்பர் மின்னோடி 64 கட்டங்களைக் கொண்டிருக்கும், நேர்மறையான திசையில் நகரும் போது அது கட்டங்கள் மூலம் சுழற்சி செய்யும்: 0, 1, 2, ... 61, 62, 63, 0, 1, 2, முதலியன. முக்கியமாக, ச்டெப்பர் மின்னோடி ஒரு நேரியல் ரயிலில் ஒரு குறிப்பிட்ட நிலையில் இருக்கும்போது அது எப்போதும் ஒரே ச்டெப்பர் கட்டத்தில் இருக்க வேண்டும். எனவே, ஒரு வண்டி எண்ட்ச்டாப் சுவிட்சைத் தூண்டும்போது, அந்த வண்டியைக் கட்டுப்படுத்தும் ச்டெப்பரை எப்போதும் ஒரே ச்டெப்பர் மின்னோடி கட்டத்தில் இருக்க வேண்டும். கிளிப்பரின் எண்ட்ச்டாப் கட்ட அமைப்பு ச்டெப்பர் கட்டத்தை எண்ட்ச்டாப் தூண்டுதலுடன் ஒருங்கிணைத்து எண்ட்ச்டாப்பின் துல்லியத்தை மேம்படுத்துகிறது.

இந்த செயல்பாட்டைப் பயன்படுத்துவதற்கு ச்டெப்பர் மோட்டரின் கட்டத்தை அடையாளம் காண வேண்டியது தேவை. ரன்-டைம் உள்ளமைவு பயன்முறையில் (அதாவது, தனித்த பயன்முறை அல்ல) டிரினாமிக் டிஎம்சி 2130, டிஎம்சி 2208, டிஎம்சி 2224 அல்லது டிஎம்சி 2660 இயக்கிகளை ஒருவர் பயன்படுத்தினால், கிளிப்பர் டிரைவரிடமிருந்து ச்டெப்பர் கட்டத்தை வினவலாம். (ச்டெப்பர் டிரைவர்களை நம்பத்தகுந்த முறையில் மீட்டமைக்க முடிந்தால், பாரம்பரிய ச்டெப்பர் டிரைவர்களில் இந்த அமைப்பைப் பயன்படுத்தவும் முடியும் - விவரங்களுக்கு கீழே காண்க.)

## எண்ட்ச்டாப் கட்டங்களை அளவீடு செய்தல்

ரன்-டைம் உள்ளமைவுடன் டிரினாமிக் ச்டெப்பர் மின்னோடி டிரைவர்களைப் பயன்படுத்தினால், எண்ட்ச்டாப்_பேச்_கலிப்ரேட் கட்டளையைப் பயன்படுத்தி எண்ட்ச்டாப் கட்டங்களை அளவீடு செய்யலாம். கட்டமைப்பு கோப்பில் பின்வருவனவற்றைச் சேர்ப்பதன் மூலம் தொடங்கவும்:

```
[endstop_phase]
```

பின்னர் அச்சுப்பொறியை மறுதொடக்கம் செய்து `G28` கட்டளையை இயக்கவும், அதைத் தொடர்ந்து` endstop_phase_calibrate` கட்டளை. பின்னர் கருவித்தொகையை புதிய இடத்திற்கு நகர்த்தி மீண்டும் `G28` ஐ இயக்கவும். கருவித்தொகையை பல்வேறு இடங்களுக்கு நகர்த்த முயற்சிக்கவும், ஒவ்வொரு நிலையிலிருந்தும் `சி 28` ஐ மீண்டும் இயக்கவும். குறைந்தது ஐந்து `சி 28` கட்டளைகளை இயக்கவும்.

மேற்கூறியதைச் செய்த பிறகு, `EndStop_phase_calibrate` கட்டளை பெரும்பாலும் ச்டெப்பருக்கு அதே (அல்லது கிட்டத்தட்ட ஒரே மாதிரியான) கட்டத்தைப் புகாரளிக்கும். இந்த கட்டத்தை கட்டமைப்பு கோப்பில் சேமிக்க முடியும், இதனால் அனைத்து எதிர்கால ஐயா 28 கட்டளைகளும் அந்த கட்டத்தைப் பயன்படுத்துகின்றன. .

ஒரு குறிப்பிட்ட ச்டெப்பர் மோட்டருக்கு எண்ட்ச்டாப் கட்டத்தை சேமிக்க, பின்வருவனவற்றைப் போல இயக்கவும்:

```
Endstop_phase_calibrate stepper = stepper_z
```

ஒருவர் சேமிக்க விரும்பும் அனைத்து ச்டெப்பர்களுக்கும் மேலே உள்ளவற்றை இயக்கவும். பொதுவாக, ஒருவர் இதை கார்ட்டீசியன் மற்றும் கோர்எக்சி அச்சுப்பொறிகளுக்கும், டெல்டா அச்சுப்பொறிகளில் ச்டெப்பர்_ஏ, ச்டெபர்_பி மற்றும் ச்டெபர்_சி ஆகியவற்றிற்கும் ச்டெபர்_இசட்டில் பயன்படுத்துவார். இறுதியாக, உள்ளமைவு கோப்பை தரவுடன் புதுப்பிக்க பின்வருவனவற்றை இயக்கவும்:

```
SAVE_CONFIG
```

### Additional notes

* இந்த நற்பொருத்தம் டெல்டா அச்சுப்பொறிகளிலும், கார்ட்டீசியன்/கோர்எக்சி அச்சுப்பொறிகளின் சட் எண்ட்ச்டாப்பிலும் மிகவும் பயனுள்ளதாக இருக்கும். கார்ட்டீசியன் அச்சுப்பொறிகளின் XY எண்ட்ச்டாப்புகளில் இந்த அம்சத்தைப் பயன்படுத்த முடியும், ஆனால் இது எக்ச்/ஒய் எண்ட்ச்டாப் நிலையில் ஒரு சிறிய பிழையாக குறிப்பாக பயனுள்ளதாக இல்லை, இது அச்சுத் தரத்தை பாதிக்க வாய்ப்பில்லை. இந்த அம்சத்தை கோர்எக்சி அச்சுப்பொறிகளின் XY எண்ட்ச்டாப்புகளில் பயன்படுத்துவது செல்லுபடியாகாது (XY நிலை கோர்எக்சி இயக்கவியலில் ஒற்றை ச்டெப்பரால் தீர்மானிக்கப்படாததால்). "ஆய்வு: z_virtual_endstop" சட் எண்ட்ச்டாப்பைப் பயன்படுத்தி அச்சுப்பொறியில் இந்த அம்சத்தைப் பயன்படுத்துவது செல்லுபடியாகாது (எண்ட்ச்டாப் ஒரு ரயிலில் நிலையான இடத்தில் இருந்தால் மட்டுமே ச்டெப்பர் கட்டம் நிலையானது என்பதால்).
* எண்ட்ச்டாப் கட்டத்தை அளவீடு செய்த பிறகு, எண்ட்ச்டாப் பின்னர் நகர்த்தப்பட்டால் அல்லது சரிசெய்யப்பட்டால், எண்ட்ச்டாப்பை மறுபரிசீலனை செய்வது தேவை. கட்டமைப்பு கோப்பிலிருந்து அளவுத்திருத்த தரவை அகற்றி, மேலே உள்ள படிகளை மீண்டும் இயக்கவும்.
* இந்த அமைப்பைப் பயன்படுத்துவதற்கு, ச்டெப்பர் நிலையை இரண்டு "முழு படிகள்" க்குள் அடையாளம் காண எண்ட்ச்டாப் துல்லியமாக இருக்க வேண்டும். எனவே, எடுத்துக்காட்டாக, ஒரு ச்டெப்பர் 0.005 மிமீ படி தூரத்துடன் 16 மைக்ரோ-படிகளைப் பயன்படுத்தினால், எண்ட்ச்டாப் குறைந்தது 0.160 மிமீ துல்லியத்தைக் கொண்டிருக்க வேண்டும். ஒருவர் கிடைத்தால், "எண்ட்ச்டாப் ச்டெபர்_இது தவறான கட்டம்" வகை பிழை செய்திகள் போதுமான துல்லியமாக இல்லாத எண்ட்ச்டாப்பின் காரணமாக இருக்கலாம். மறுசீரமைப்பு உதவாது என்றால், கட்டமைப்பு கோப்பிலிருந்து அவற்றை அகற்றுவதன் மூலம் எண்ட்ச்டாப் கட்ட மாற்றங்களை முடக்கு.
* பாரம்பரிய படுக்கை சமநிலைப்படுத்தும் திருகுகளுடன் ஒரு பாரம்பரிய ச்டெப்பர் கட்டுப்படுத்தப்பட்ட சட் அச்சில் (ஒரு கார்ட்டீசியன் அல்லது கோரெக்சி அச்சுப்பொறியைப் போல) ஒருவர் பயன்படுத்தினால், ஒவ்வொரு அச்சு அடுக்கையும் ஒரு "முழு படி" எல்லையில் செய்ய ஏற்பாடு செய்ய இந்த அமைப்பைப் பயன்படுத்தவும் முடியும் . இந்த அம்சத்தை செயல்படுத்த, சி-குறியீடு ச்லைசர் ஒரு அடுக்கு உயரத்துடன் கட்டமைக்கப்பட்டுள்ளது என்பதை உறுதிப்படுத்திக் கொள்ளுங்கள், இது "முழு படி" என்ற பல மடங்கு, எண்ட்ச்டாப்_பேச் கட்டமைப்பு பிரிவில் எண்ட்ச்டாப்_அலின்_செரோ விருப்பத்தை கைமுறையாக இயக்கவும் ([கட்டமைப்பு_ரெச்] ) மேலும் விவரங்களுக்கு), பின்னர் படுக்கை திருகுகளை மீண்டும் நிலைநிறுத்தவும்.
* பாரம்பரிய (டிரினமிக் அல்லாத) ச்டெப்பர் மின்னோடி இயக்கிகளுடன் இந்த அமைப்பைப் பயன்படுத்த முடியும். இருப்பினும், இதைச் செய்வதற்கு ஒவ்வொரு முறையும் மைக்ரோ-கன்ட்ரோலர் மீட்டமைக்கப்படும் போது ச்டெப்பர் மின்னோடி இயக்கிகள் மீட்டமைக்கப்படுவதை உறுதிசெய்ய வேண்டும். . ஓட்டுநர்கள் யூ.எச்.பியிலிருந்து மட்டுமே இயக்கப்படுகிறார்கள், மேலும் ராச்பெர்ரி பையில் இயங்கும் ஓச்டிலிருந்து யூ.எச்.பி ஆற்றல் வழங்கப்படுகிறது. இந்த சூழ்நிலையில், "Restart_method: rpi_usb" உடன் ஒரு MCU கட்டமைப்பைக் குறிப்பிடலாம்-அந்த விருப்பம் மைக்ரோ-கன்ட்ரோலருக்கு எப்போதும் யூ.எச்.பி பவர் மீட்டமைப்பு வழியாக மீட்டமைக்க ஏற்பாடு செய்யும், இது மைக்ரோ-கன்ட்ரோலர் மற்றும் ச்டெப்பர் மின்னோடி டிரைவர்கள் இரண்டிற்கும் ஏற்பாடு செய்யும் ஒன்றாக மீட்டமைக்கவும். இந்த பொறிமுறையைப் பயன்படுத்தினால், ஒருவர் "தூண்டுதல்_பேச்" கட்டமைப்பு பிரிவுகளை கைமுறையாக கட்டமைக்க வேண்டும் (விவரங்களுக்கு [கட்டமைப்பு குறிப்பு] (config_reference.md#endstop_phase) ஐப் பார்க்கவும்).
