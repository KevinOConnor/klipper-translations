# இயக்கவியல்

இந்த ஆவணம் கிளிப்பர் ரோபோ இயக்கத்தை (அதன் [இயக்கவியல்] (https://en.wikipedia.org/wiki/ginematics) எவ்வாறு செயல்படுத்துகிறது என்பதற்கான கண்ணோட்டத்தை வழங்குகிறது. கிளிப்பர் மென்பொருளில் பணியாற்ற ஆர்வமுள்ள இரு டெவலப்பர்களுக்கும், அவர்களின் இயந்திரங்களின் இயக்கவியலை நன்கு புரிந்துகொள்ள ஆர்வமுள்ள பயனர்களுக்கும் உள்ளடக்கங்கள் ஆர்வமாக இருக்கலாம்.

## முடுக்கம்

அச்சுத் தலை வேகத்தை மாற்றும்போதெல்லாம் கிளிப்பர் ஒரு நிலையான முடுக்கம் திட்டத்தை செயல்படுத்துகிறது - விரைவு படிப்படியாக புதிய வேகத்திற்கு மாற்றப்படுகிறது. க்ளிப்பர் எப்போதும் கருவி தலை மற்றும் அச்சுக்கு இடையில் முடுக்கம் செயல்படுத்துகிறார். எக்ச்ட்ரூடரை விட்டு வெளியேறும் இழை மிகவும் உடையக்கூடியதாக இருக்கும் - விரைவான முட்டாள்தனங்கள் மற்றும்/அல்லது எக்ச்ட்ரூடர் ஓட்டம் மாற்றங்கள் மோசமான தகுதி மற்றும் மோசமான படுக்கை ஒட்டுதலுக்கு வழிவகுக்கும். வெளியேற்றப்படாதபோது கூட, அச்சின் அதே மட்டத்தில் அச்சு தலை இருந்தால், தலையின் விரைவான முட்டாள்தனமானது அண்மைக் காலத்தில் டெபாசிட் செய்யப்பட்ட இழைகளை சீர்குலைக்கும். அச்சுத் தலையின் வேக மாற்றங்களைக் கட்டுப்படுத்துவது (அச்சுடன் ஒப்பிடும்போது) அச்சிடலை சீர்குலைக்கும் அபாயங்களைக் குறைக்கிறது.

முடுக்கத்தை மட்டுப்படுத்துவதும் முதன்மை, இதனால் ச்டெப்பர் மோட்டார்கள் இயந்திரத்தில் அதிக மன அழுத்தத்தைத் தவிர்க்கவோ அல்லது வைக்கவோ கூடாது. அச்சுத் தலையின் முடுக்கம் கட்டுப்படுத்துவதன் மூலம் கிளிப்பர் ஒவ்வொரு ச்டெப்பரிலும் முறுக்குவிசை கட்டுப்படுத்துகிறார். அச்சுத் தலையில் முடுக்கம் செயல்படுத்துவது இயற்கையாகவே அச்சுத் தலையை நகர்த்தும் மாற்றிகளின் முறுக்குவிசையையும் கட்டுப்படுத்துகிறது (தலைகீழ் எப்போதும் உண்மை இல்லை).

கிளிப்பர் நிலையான முடுக்கம் செயல்படுத்துகிறது. நிலையான முடுக்கம் செய்வதற்கான முக்கிய சூத்திரம்:

```
விரைவு (நேரம்) = start_velocity + achan*நேரம்
```

## ட்ரெப்சாய்டு செனரேட்டர்

ஒவ்வொரு நகர்வின் இயக்கத்தையும் மாதிரியாக கிளிப்பர் ஒரு பாரம்பரிய "ட்ரெப்சாய்டு செனரேட்டர்" ஐப் பயன்படுத்துகிறார் - ஒவ்வொரு அசைவும் ஒரு தொடக்க வேகத்தைக் கொண்டுள்ளது, இது நிலையான முடுக்கம் ஒரு பயண வேகத்தை துரிதப்படுத்துகிறது, இது ஒரு நிலையான வேகத்தில் பயணிக்கிறது, பின்னர் நிலையான முடுக்கம் பயன்படுத்தி இறுதி வேகத்தில் குறைகிறது .

!

இது "ட்ரெப்சாய்டு செனரேட்டர்" என்று அழைக்கப்படுகிறது, ஏனெனில் நகர்வின் திசைவேக வரைபடம் ஒரு ட்ரெப்சாய்டு போல் தெரிகிறது.

பயண விரைவு எப்போதும் தொடக்க விரைவு மற்றும் இறுதி விரைவு இரண்டையும் விட அதிகமாகவோ அல்லது சமமாகவோ இருக்கும். முடுக்கம் கட்டம் சுழிய காலமாக இருக்கலாம் (தொடக்க விரைவு பயண வேகத்திற்கு சமமாக இருந்தால்), பயணக் கட்டம் சுழிய காலமாக இருக்கலாம் (நடவடிக்கை உடனடியாக முடுக்கத்திற்குப் பிறகு வீழ்ச்சியடையத் தொடங்கினால்), மற்றும்/அல்லது வீழ்ச்சி கட்டம் பூச்சியமாக இருக்கலாம் காலம் (இறுதி விரைவு பயண வேகத்திற்கு சமமாக இருந்தால்).

!

## முன்னோக்கி பாருங்கள்

நகர்வுகளுக்கு இடையில் மூலைவிட்ட வேகத்தை தீர்மானிக்க "தோற்றமளிக்கும்" அமைப்பு பயன்படுத்தப்படுகிறது.

ஒரு XY விமானத்தில் உள்ள பின்வரும் இரண்டு நகர்வுகளைக் கவனியுங்கள்:

!

மேற்கண்ட சூழ்நிலையில், முதல் நகர்வுக்குப் பிறகு முழுமையாகக் குறைந்து, அடுத்த நகர்வின் தொடக்கத்தில் முழுமையாக முடுக்கிவிட முடியும், ஆனால் அந்த முடுக்கம் மற்றும் வீழ்ச்சி அனைத்தும் அச்சு நேரத்தையும், எக்ச்ட்ரூடர் ஓட்டத்தில் அடிக்கடி மாற்றங்களையும் பெரிதும் அதிகரிக்கும் என்பதால் இது உகந்ததல்ல மோசமான அச்சுத் தரத்தை ஏற்படுத்தும்.

இதைத் தீர்க்க, "தோற்றமளிக்கும்" பொறிமுறையானது பல உள்வரும் நகர்வுகளை வரிசைப்படுத்தி, இரண்டு நகர்வுகளுக்கு இடையில் "சந்திப்பின் போது" பெறக்கூடிய ஒரு நியாயமான வேகத்தை தீர்மானிக்க நகர்வுகளுக்கு இடையிலான கோணங்களை பகுப்பாய்வு செய்கிறது. அடுத்த நகர்வு கிட்டத்தட்ட ஒரே திசையில் இருந்தால், தலைக்கு கொஞ்சம் மெதுவாக (எப்படியிருந்தாலும்) தேவை.

!

இருப்பினும், அடுத்த நடவடிக்கை ஒரு கடுமையான கோணத்தை உருவாக்கினால் (அடுத்த நகர்வில் தலை கிட்டத்தட்ட தலைகீழ் திசையில் பயணிக்கப் போகிறது) ஒரு சிறிய சந்தி விரைவு மட்டுமே அனுமதிக்கப்படுகிறது.

!

சந்தி விரைவு "தோராயமான மையவிலக்கு முடுக்கம்" ஐப் பயன்படுத்தி தீர்மானிக்கப்படுகிறது. சிறந்த [ஆசிரியரால் விவரிக்கப்பட்டுள்ளது] (https://onehossshay.wordpress.com/2011/09/24/improving_grbl_cornering_algorithm/). இருப்பினும், கிளிப்பரில், 90 ° மூலையில் ("சதுர மூலையில் வேகம்") இருக்க வேண்டிய வேகத்தைக் குறிப்பிடுவதன் மூலம் சந்தி விரைவு கட்டமைக்கப்படுகிறது, மேலும் மற்ற கோணங்களுக்கான சந்தி விரைவு அதிலிருந்து பெறப்படுகிறது.

தோற்றத்திற்கான முக்கிய சூத்திரம்:

```
end_velocity^2 = start_velocity^2 + 2*முடி*move_distance
```

### குறைந்தபட்ச பயணக் கணக்கு

குறுகிய "சிக்சாக்" நகர்வுகளின் இயக்கங்களை மென்மையாக்குவதற்கான ஒரு பொறிமுறையையும் கிளிப்பர் செயல்படுத்துகிறார். பின்வரும் நகர்வுகளைக் கவனியுங்கள்:

!

மேலே உள்ளவற்றில், முடுக்கம் முதல் வீழ்ச்சிக்கு அடிக்கடி ஏற்படும் மாற்றங்கள் இயந்திரத்தை அதிர்வுறும், இது இயந்திரத்தின் மன அழுத்தத்தை ஏற்படுத்துகிறது மற்றும் சத்தத்தை அதிகரிக்கிறது. முடுக்கம் மற்றும் வீழ்ச்சிக்கு இடையில் ஒரு பயண வேகத்தில் எப்போதும் சில இயக்கம் இருப்பதை உறுதி செய்வதற்கான ஒரு பொறிமுறையை கிளிப்பர் செயல்படுத்துகிறார். முடுக்கம் மற்றும் வீழ்ச்சியின் போது பயணிக்கும் தூரத்துடன் ஒப்பிடும்போது பயண வேகத்தில் குறைந்தபட்ச தூரம் பயணிக்கும் சில நகர்வுகளின் (அல்லது நகர்வுகளின் வரிசை) அதிக வேகத்தை குறைப்பதன் மூலம் இது செய்யப்படுகிறது.

கிளிப்பர் இந்த அம்சத்தை ஒரு வழக்கமான நகர்வு முடுக்கம் மற்றும் மெய்நிகர் "குறைப்புக்கு முடுக்கம்" வீதத்தைக் கண்காணிப்பதன் மூலம் செயல்படுத்துகிறார்:

!

குறிப்பாக, இந்த மெய்நிகர் "முடுக்கம் குறைப்பு" வீதத்திற்கு மட்டுப்படுத்தப்பட்டிருந்தால், ஒவ்வொரு நகர்வின் விரைவு என்னவாக இருக்கும் என்று குறியீடு கணக்கிடுகிறது. மேலே உள்ள படத்தில், கோடு சாம்பல் கோடுகள் முதல் நகர்வுக்கு இந்த மெய்நிகர் முடுக்கம் வீதத்தைக் குறிக்கின்றன. இந்த மெய்நிகர் முடுக்கம் விகிதத்தைப் பயன்படுத்தி ஒரு நகர்வு அதன் முழு பயண வேகத்தை அடைய முடியாவிட்டால், அதன் அதிக விரைவு இந்த மெய்நிகர் முடுக்கம் விகிதத்தில் பெறக்கூடிய அதிகபட்ச வேகத்திற்கு குறைக்கப்படுகிறது.

பெரும்பாலான நகர்வுகளுக்கு வரம்பு நகர்வின் தற்போதைய வரம்புகளில் அல்லது அதற்கு மேல் இருக்கும், மேலும் நடத்தையில் எந்த மாற்றமும் தூண்டப்படாது. குறுகிய சிக்சாக் நகர்வுகளுக்கு, இந்த வரம்பு அதிக வேகத்தை குறைக்கிறது. இது நகர்வுக்குள் உண்மையான முடுக்கம் மாற்றாது என்பதை நினைவில் கொள்க - இந்த நடவடிக்கை சாதாரண முடுக்கம் திட்டத்தை அதன் சரிசெய்யப்பட்ட மேல் வேகத்திற்கு தொடர்ந்து பயன்படுத்துகிறது.

## படிகளை உருவாக்குதல்

தோற்றமளிக்கும் செயல்முறை முடிந்ததும், கொடுக்கப்பட்ட நகர்வுக்கான அச்சு தலை இயக்கம் முழுமையாக அறியப்படுகிறது (நேரம், தொடக்க நிலை, இறுதி நிலை, ஒவ்வொரு கட்டத்திலும் வேகம்) மற்றும் நகர்வுக்கான படி நேரங்களை உருவாக்க முடியும். இந்த செயல்முறை கிளிப்பர் குறியீட்டில் "இயக்கவியல் வகுப்புகள்" க்குள் செய்யப்படுகிறது. இந்த இயக்கவியல் வகுப்புகளுக்கு வெளியே, எல்லாமே மில்லிமீட்டர், விநாடிகள் மற்றும் கார்ட்டீசியன் ஒருங்கிணைப்பு இடத்தில் கண்காணிக்கப்படுகின்றன. இந்த பொதுவான ஒருங்கிணைப்பு அமைப்பிலிருந்து குறிப்பிட்ட அச்சுப்பொறியின் வன்பொருள் விவரங்களுக்கு மாற்றுவது இயக்கவியல் வகுப்புகளின் பணி.

ஒவ்வொரு ச்டெப்பருக்கும் படி நேரங்களை உருவாக்க கிளிப்பர் ஒரு [மறுசீரமைப்பு தீர்வி] (https://en.wikipedia.org/wiki/root-finding_algorithm) ஐப் பயன்படுத்துகிறார். ஒவ்வொரு தருணத்திலும் தலையின் சிறந்த கார்ட்டீசியன் ஆயங்களை கணக்கிடுவதற்கான சூத்திரங்களை குறியீட்டில் கொண்டுள்ளது, மேலும் அந்த கார்ட்டீசியன் ஆயத்தொலைவுகளின் அடிப்படையில் சிறந்த ச்டெப்பர் நிலைகளை கணக்கிடுவதற்கு இது இயக்கவியல் சூத்திரங்களைக் கொண்டுள்ளது. இந்த சூத்திரங்கள் மூலம், ச்டெப்பர் ஒவ்வொரு படி நிலையில் இருக்க வேண்டிய சிறந்த நேரத்தை கிளிப்பர் தீர்மானிக்க முடியும். கொடுக்கப்பட்ட படிகள் பின்னர் இந்த கணக்கிடப்பட்ட நேரங்களில் திட்டமிடப்பட்டுள்ளன.

நிலையான முடுக்கம் கீழ் ஒரு நடவடிக்கை எவ்வளவு தூரம் பயணிக்க வேண்டும் என்பதை தீர்மானிக்க முக்கிய சூத்திரம்:

```
move_distance = (start_velocity + .5 * சட்டகை * move_time) * move_time
```

மற்றும் நிலையான வேகத்துடன் இயக்கத்திற்கான முக்கிய சூத்திரம்:

```
move_distance = cruise_velocity * move_time
```

நகரும் தூரம் கொடுக்கப்பட்ட ஒரு நடவடிக்கையின் கார்ட்டீசியன் ஒருங்கிணைப்பை தீர்மானிப்பதற்கான முக்கிய சூத்திரங்கள்:

```
Cartesian_x_position = start_x + move_distance * மொத்தம்_எக்ச்_மோவ்மென்ட் / மொத்த_மோவெமென்ட்
 Cartesian_y_position = start_y + move_distance * மொத்தம்_ஒய்_மோவ்மென்ட் / மொத்தம்_மொவ்மென்ட்
 Cartesian_z_position = start_z + move_distance * மொத்தம்_இசட்_மோவ்மென்ட் / மொத்த_மோவெமென்ட்
```

### கார்ட்டீசியன் ரோபோக்கள்

கார்ட்டீசியன் அச்சுப்பொறிகளுக்கான படிகளை உருவாக்குவது எளிமையான வழக்கு. ஒவ்வொரு அச்சிலும் இயக்கம் நேரடியாக கார்ட்டீசியன் இடத்தில் இயக்கத்துடன் தொடர்புடையது.

முக்கிய சூத்திரங்கள்:

```
STEPPER_X_POSITION = CARTESIAN_X_POSITION
 STEPPER_Y_POSITION = CARTESIAN_Y_POSITION
 STEPPER_Z_POSITION = CARTESIAN_Z_POSITION
```

### கோர்எக்சி ரோபோக்கள்

கோர்எக்சி இயந்திரத்தில் படிகளை உருவாக்குவது அடிப்படை கார்ட்டீசியன் ரோபோக்களை விட சற்று சிக்கலானது. முக்கிய சூத்திரங்கள்:

```
STEPPER_A_POSITION = CARTESIAN_X_POSITION + CARTESIAN_Y_POSITION
 STEPPER_B_POSITION = CARTESIAN_X_POSITION - CARTESIAN_Y_POSITION
 STEPPER_Z_POSITION = CARTESIAN_Z_POSITION
```

### டெல்டா ரோபோக்கள்

டெல்டா ரோபோவில் படி உருவாக்கம் பித்தகோரசின் தேற்றத்தை அடிப்படையாகக் கொண்டது:

```
STEPPER_POSITION = (SQRT (ARM_LENGTH^2
 -
 .
 + கார்ட்டீசியன்_இச்_போசிசன்)
```

### ச்டெப்பர் மின்னோடி முடுக்கம் வரம்புகள்

டெல்டா இயக்கவியலுடன் கார்ட்டீசியன் இடத்தில் துரிதப்படுத்தும் ஒரு நகர்வுக்கு சாத்தியமாகும், இது நகர்வின் முடுக்கம் விட ஒரு குறிப்பிட்ட ச்டெப்பர் மோட்டரில் முடுக்கம் தேவைப்படுகிறது. ஒரு ச்டெப்பர் கை செங்குத்தை விட கிடைமட்டமாக இருக்கும்போது இது ஏற்படலாம் மற்றும் இயக்கத்தின் கோடு அந்த ச்டெப்பரின் கோபுரத்தின் அருகே செல்கிறது. இந்த நகர்வுகளுக்கு அச்சுப்பொறியின் அதிகபட்ச கட்டமைக்கப்பட்ட நகர்வு முடுக்கம் விட ஒரு ச்டெப்பர் மின்னோடி முடுக்கம் தேவைப்படலாம் என்றாலும், அந்த ச்டெப்பரால் நகர்த்தப்படும் பயனுள்ள வெகுசனமானது சிறியதாக இருக்கும். இதனால் உயர் ச்டெப்பர் முடுக்கம் கணிசமாக அதிக ச்டெப்பர் முறுக்கு ஏற்படாது, எனவே இது பாதிப்பில்லாததாக கருதப்படுகிறது.

இருப்பினும், தீவிர நிகழ்வுகளைத் தவிர்ப்பதற்காக, கிளிப்பர் அச்சுப்பொறியின் கட்டமைக்கப்பட்ட அதிகபட்ச நகர்வு முடுக்கம் மூன்று மடங்கு வேகமான முடுக்கம் மீது அதிகபட்ச உச்சவரம்பை செயல்படுத்துகிறது. . அதிகபட்ச முடுக்கம் மற்றும் விரைவு.

### எக்ச்ட்ரூடர் இயக்கவியல்

கிளிப்பர் அதன் சொந்த இயக்கவியல் வகுப்பில் எக்ச்ட்ரூடர் இயக்கத்தை செயல்படுத்துகிறது. ஒவ்வொரு அச்சு தலை இயக்கத்தின் நேரமும் வேகமும் ஒவ்வொரு நகர்வுக்கும் முழுமையாக அறியப்பட்டிருப்பதால், அச்சு தலை இயக்கத்தின் படி நேர கணக்கீடுகளிலிருந்து சுயாதீனமாக எக்ச்ட்ரூடருக்கான படி நேரங்களைக் கணக்கிட முடியும்.

அடிப்படை எக்ச்ட்ரூடர் இயக்கம் கணக்கிட எளிதானது. கார்ட்டீசியன் ரோபோக்கள் பயன்படுத்தும் அதே சூத்திரங்களை படி நேர உருவாக்கம் பயன்படுத்துகிறது:

```
stepper_position = கோரப்பட்ட_இ_போசிசன்
```

### Pressure advance

அடிப்படை எக்ச்ட்ரூடர் சூத்திரத்திற்கு அப்பால் எக்ச்ட்ரூடரின் மாடலிங் மேம்படுத்த முடியும் என்பதை ஆய்வு காட்டுகிறது. சிறந்த வழக்கில், ஒரு வெளியேற்ற நடவடிக்கை முன்னேறும்போது, அதே அளவிலான இழை ஒவ்வொரு கட்டத்திலும் நகர்வுடன் டெபாசிட் செய்யப்பட வேண்டும், மேலும் நகர்வுக்குப் பிறகு எந்த அளவையும் வெளியேற்றக்கூடாது. துரதிர்ச்டவசமாக. இது பெரும்பாலும் "ஓச்" என்று குறிப்பிடப்படுகிறது.

!

எக்ச்ட்ரூடருக்கு வேறு மாதிரியைப் பயன்படுத்துவதன் மூலம் "பிரசர் அட்வான்ச்" அமைப்பு இதைக் கணக்கிட முயற்சிக்கிறது. எக்ச்ட்ரூடருக்குள் வழங்கப்படும் ஒவ்வொரு மிமீ^3 ஃபிலிமென்டும் அந்த அளவு மிமீ^3 உடனடியாக எக்ச்ட்ரூடரை விட்டு வெளியேறும் என்று அப்பாவியாக நம்புவதற்கு பதிலாக, அது அழுத்தத்தின் அடிப்படையில் ஒரு மாதிரியைப் பயன்படுத்துகிறது. இழை எக்ச்ட்ரூடருக்குள் தள்ளப்படும்போது அழுத்தம் அதிகரிக்கிறது ([ஊக்கின் சட்டத்தில்] (https://en.wikipedia.org/wiki/hooke%27s_law)) மற்றும் எக்ச்ட்ரூட் செய்ய தேவையான அழுத்தம் முனை சுழற்சியின் மூலம் ஓட்ட விகிதத்தால் ஆதிக்கம் செலுத்துகிறது . முக்கிய சிந்தனை என்னவென்றால், இழை, அழுத்தம் மற்றும் ஓட்ட விகிதத்திற்கு இடையிலான உறவை ஒரு நேரியல் குணகத்தைப் பயன்படுத்தி வடிவமைக்க முடியும்:

```
pa_position = nominal_position + pression_advance_coeffication * nominal_velocity
```

இந்த அழுத்தம் முன்கூட்டியே குணகத்தை எவ்வாறு கண்டுபிடிப்பது என்பது குறித்த தகவலுக்கு [பிரசர் அட்வான்ச்] (Pression_advance.md) ஆவணத்தைப் பார்க்கவும்.

அடிப்படை அழுத்தம் முன்கூட்டியே தேற்றம் எக்ச்ட்ரூடர் மின்னோடி திடீர் விரைவு மாற்றங்களைச் செய்ய காரணமாகிறது. இதைத் தவிர்ப்பதற்காக எக்ச்ட்ரூடர் இயக்கத்தின் "மென்மையாக்குதல்" கிளிப்பர் செயல்படுத்துகிறார்.

!

மேலே உள்ள வரைபடம் அவற்றுக்கு இடையில் பூச்சியமற்ற மூலைவிட்ட வேகத்துடன் இரண்டு வெளியேற்ற நகர்வுகளுக்கு ஒரு எடுத்துக்காட்டு காட்டுகிறது. அழுத்தம் முன்கூட்டியே அமைப்பு கூடுதல் இழைகளை முடுக்கம் போது எக்ச்ட்ரூடருக்குள் தள்ளுகிறது என்பதை நினைவில் கொள்க. விரும்பிய இழை ஓட்ட விகிதம் அதிகமாக இருப்பதால், அழுத்தத்தை கணக்கிட முடுக்கம் போது அதிக இழை தள்ளப்பட வேண்டும். தலை வீழ்ச்சியின் போது கூடுதல் இழை பின்வாங்கப்படுகிறது (எக்ச்ட்ரூடருக்கு எதிர்மறை விரைவு இருக்கும்).

ஒரு சிறிய காலப்பகுதியில் எக்ச்ட்ரூடர் நிலையின் எடையுள்ள சராசரியைப் பயன்படுத்தி "மென்மையானது" செயல்படுத்தப்படுகிறது (`Pression_advance_smooth_time` கட்டமைப்பு அளவுருவால் குறிப்பிடப்பட்டுள்ளது). இந்த சராசரி பல சி-குறியீடு நகர்வுகளை பரப்புகிறது. முதல் வெளியேற்ற நடவடிக்கையின் பெயரளவு தொடக்கத்திற்கு முன்னர் எக்ச்ட்ரூடர் மின்னோடி எவ்வாறு நகரத் தொடங்கும் என்பதைக் கவனியுங்கள், கடைசி வெளியேற்ற நடவடிக்கையின் பெயரளவு முடிவுக்குப் பிறகு தொடர்ந்து நகரும்.

"மென்மையான அழுத்தம் முன்கூட்டியே" க்கான முக்கிய சூத்திரம்:

```
selfor_pa_position (t) =
 .
 இருந்து = t- smooth_time/2, பெறுநர் = t+sley_time/2)
 / (sley_time/ 2)^2)
```
