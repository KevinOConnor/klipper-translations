# Дельта калібрування

Цей документ описує автоматичну систему калібрування Klipper для принтерів стилю "delta".

Дельта калібрування передбачає пошук позицій вежі, кути башти, радіус дельти і довжини дельти. Ці налаштування контрольного руху принтера на принтері delta. Кожна з цих параметрів має незрівняний і нелінійний вплив і важко їх калібрувати вручну. На відміну від коду калібрування програмного забезпечення може забезпечити відмінні результати всього за кілька хвилин часу. Не обов'язкове спеціальне протезування.

В кінцевому підсумку, калібрування дельти залежить від точності вежних вимикачів. Якщо один використовує драйвери двигуна Trinamic, то врахуйте, що [ендстопна фаза](Endstop_Phase.md) для поліпшення точності перемикачів.

## Автоматичний проти ручного зондування

Klipper підтримує калібрування параметрів дельти за допомогою ручного методу пробування або через автоматичний зонд Z.

Кількість комплектів принтера дельта приходять з автоматичними зондами Z, які не є достатньо точними (спеціально, невеликими відмінностями в довжині руки може викликати ефектор нахилу, який може спрей автоматичним зондом). Якщо ви використовуєте автоматичний зонд, то спочатку [розрахувати зонд](Probe_Calibrate.md) і потім перевірте [пробесне розташування bias](Probe_Calibrate.md#location-bias-check). Якщо у автоматичному зонді з’явилася маса більше 25 мікронів (.025мм) замість цього використовуйте ручну пробірку. Ручна пробка тільки займає кілька хвилин, і вона усуває помилки, введені зондом.

Якщо за допомогою зонду, який кріпиться на боці гарячої палички (тобто він має X або Y offset), то зверніть увагу, що виконання дельта калібрування недійсним буде недійсним результатів калібрування зондів. Ці види зондів рідко підходять для використання на дельті (приблизно менший впливовий тент призведе до розміщення зондом зонду). Якщо використовувати пробе будь-яким чином, то обов'язково слідкувати за калібруванням зонда після будь-якого калібрування дельти.

## Базова калібрування дельти

Klipper має команду DELTA_CALIBRATE, яка може виконувати базове калібрування дельта. Ця команда випускає сім різних точок на ліжку і розраховує нові значення для кутів башти, вежа і радіус дельти.

Для того, щоб виконати цей калібрування початкових параметрів дельти (протягів, радіусів і позицій торцевої поверхні) необхідно надати і вони повинні мати точність в межах декількох міліметрів. Більшість комплектів принтера delta забезпечить ці параметри - налаштуйте принтер з цими початковими за замовчуванням, а потім перейдіть на, щоб запустити команду DELTA_CALIBRATE, як описано нижче. Якщо у вас немає за замовчуванням, то пошук онлайн для керівництва з калібруванням дельти, який може забезпечити базову початкову точку.

Під час процесу калібрування дельта може знадобитися для принтера, щоб зробити його нижче, що інакше буде вважатися площиною ліжка. Це типово для отримання цього під час калібрування шляхом оновлення конфігурації, щоб принтер `minimum_z_position=-5`. (Одна калібрування завершується, можна видалити цю установку з конфігурації.)

Є два способи виконання пробування - ручне пробування (`DELTA_CALIBRATE METHOD=manual`) і автоматичне проблювання (`DELTA_CALIBRATE`). Метод ручного пров'язування буде переміщати голову біля ліжка, а потім чекати користувача, щоб слідувати за кроками, описаними на [Завантажити тест"](Bed_Level.md#the-paper-test), щоб визначити фактичну відстань між насадкою і ліжком на даній території.

Щоб виконати базовий зонд, переконайтеся, що конфігурація має розділ [delta_calibrate] і потім запустіть інструмент:

```
Г28
DELTA_CALIBRATE METHOD=ручний
```

Після отримання семи точок будуть розраховані нові параметри дельти. Заощаджуйте і застосуйте ці параметри за допомогою бігу:

```
ПРОКСИМУС
```

Для базового друку необхідно надати параметри дельти, які є досить точними. Якщо це новий принтер, це хороший час для друку деяких базових об'єктів і перевірки загальної функціональності.

## Покращений калібрування дельти

Основне калібрування дельти в цілому робить хорошу роботу з розрахунку параметрів дельти, таких що насадка є правильною відстані від ліжка. Однак не намагатися калібрувати X і Y мірну точність. Це хороша ідея для виконання розширеного калібрування дельта для перевірки точності розмірів.

Ця процедура калібрування вимагає друку тестового об'єкта та вимірювання частин цього об'єкта тестування з цифровими затискачами.

Перед запуском розширеного дельта-калібрування необхідно запустити базове дельта-калібрування (за допомогою команди DELTA_CALIBRATE) і зберегти результати (за допомогою команди SAVE_CONFIG). Переконайтеся, що після останнього виконання базового дельта-калібрування і не було помітних змін у конфігурації принтера чи апаратному забезпеченні (якщо не впевнені, повторно запустіть [базове дельта-калібрування](#basic-delta-calibration), включаючи SAVE_CONFIG, безпосередньо перед друком тестовий об’єкт, описаний нижче.)

Використовуйте скибочку для створення G-Code з [docs/prints/calibrate_size.stl](prints/calibrate_size.stl) файл. Нарізка об'єкта за допомогою повільної швидкості (наприклад, 40мм/с). Якщо це можливо, скористайтеся жорсткою пластиковою (наприклад, ПЛА) для об'єкта. Об'єкт має діаметр 140мм. Якщо це занадто великий для принтера, то можна масштабувати його вниз (але обов'язково рівномірно масштабувати як X, так і Y осі). Якщо принтер підтримує значно більші принти, то цей об'єкт також може бути збільшений за розміром. Більший розмір може поліпшити точність вимірювання, але хороша точність друку є більш важливим, ніж більший розмір друку.

Друкувати об'єкт тесту і чекати його повністю охолонути. Команди, описані нижче, повинні працювати з тими самими параметрами принтера, які використовуються для друку об'єкта калібрування (не запустіть DELTA_CALIBRATE між друком і вимірювальними, або зробити щось, що інакше зміни конфігурації принтера).

Якщо це можливо, виконайте виміри, описані нижче, поки об'єкт все ще прикріплюється до місця друку, але не хвилюйтеся, якщо частина відкладає від ліжка - просто спробуйте уникнути згинання об'єкта при виконанні вимірювань.

Почати вимірювальну відстань між центральним стовпом і стовпом поруч з міткою "А" (що також слід вказувати на вежу "А".

![delta-a-distance](img/delta-a-distance.jpg)

Після цього вирушайте проти годинникової стрілки і заміряйте відстань між центральним стовпом та іншими стовпами (посадка від центру до стовпа через етикетку C, відстань від центру до стовпа з маркуванням B тощо).

![delta_cal_e_step1](img/delta_cal_e_step1.png)

Введіть ці параметри в Klipper з комою відокремленим переліком номерів точки плавлення:

```
DELTA_ANALYZE CENTER_DISTS=<a_dist>,<far_c_dist>,<b_dist>,<far_a_dist>,<c_dist>,<far_b_dist>
```

Забезпечити значення без пробілів.

Потім виміряйте відстань між стовпцем A і стовпом через етикетку C.

![delta-ab-distance](img/delta-outer-distance.jpg)

Після цього підійдіть проти годинникової стрілки і відміряйте відстань між стовпцем через С до стовпа B, відстань між стовпцем B і стовпом через A, і так далі.

![delta_cal_e_step2](img/delta_cal_e_step2.png)

Введіть ці параметри в Klipper:

```
ДЕЛЬТА_АНАЛІЗ OUTER_DISTS=<a_to_far_c>,<far_c_to_b>,<b_to_far_a>,<far_a_to_c>,<c_to_far_b>,<far_b_to_a>
```

У цей момент варто прибрати об'єкт з ліжка. Заключні вимірювання – самі стовпи. Заміряйте розмір стовпа центру вздовж спиці, потім спицю Б, а потім спицю С.

![delta-a-pillar](img/delta-a-pillar.jpg)

![delta_cal_e_step3](img/delta_cal_e_step3.png)

Введіть їх у Klipper:

```
DELTA_ANALYZE CENTER_PILLAR_WIDTHS=<a>,<b>,<b>,<c>
```

Заключні вимірювання зовнішніх стовпів. Початок вимірювання відстані стовпа А по лінії від А до стовпа через С.

![delta-ab-pillar](img/delta-outer-pillar.jpg)

Потім вирушайте проти годинникової стрілки і заміряйте залишилися зовнішні стовпи (покладайте по C по лінії до B, B стовп по лінії, щоб стовпець через A і т.д.).

![delta_cal_e_step4](img/delta_cal_e_step4.png)

І введіть їх в Klipper:

```
ДЕЛЬТА_АНАЛІЗ OUTER_PILLAR_WIDTHS=<a>,<far_c>,<far_a>,<c>,<far_b>,<far_b>
```

Якщо об'єкт був масштабований до меншого або більшого розміру, то забезпечує коефіцієнт масштабу, який був використаний при нарізанні об'єкта:

```
DELTA_ANALYZE SCALE=1.0
```

(Дальність ваги 2.0 означає, що об'єкт двічі його оригінальний розмір, 0.5 буде половину його оригінального розміру.)

Нарешті, виконайте посилену калібрування дельти:

```
DELTA_ANALYZE CALIBRATE=Розширений
```

Ця команда може взяти кілька хвилин, щоб завершити. Після завершення він розрахує оновлені дельта параметри (по радіусу, кути башти, положення та довжини руки). Використовуйте команду SAVE_CONFIG, щоб зберегти і застосувати налаштування:

```
ПРОКСИМУС
```

Команда SAVE_CONFIG заощадить як оновлені параметри дельти і інформацію від вимірювань відстані. Майбутні команди DELTA_CALIBRATE також використовують цю інформацію про відстань. Не намагайтеся повторно відреагувати заміри дистанції після запуску SAVE_CONFIG, так як ця команда змінює конфігурацію принтера і сирі вимірювання більше не застосовуються.

### Додаткові ноти

* Якщо принтер дельта має хорошу точність розмірів, то відстань між двома стовпами повинна бути близько 74 мм і ширина кожного стовпа повинна бути близько 9 мм. (Своїсно, метою є відстань між двома стовпами мінус ширина одного з стовпів, щоб бути рівно 65 мм.) Якщо у складі, то рутин DELTA_ANALYZE буде обчислювати нові параметри дельта, використовуючи як вимірювання відстані, так і попередні вимірювання висоти з останнього командування DELTA_CALIBRATE.
* DELTA_ANALYZE може виробляти параметри дельти, які дивують. Наприклад, це може запропонувати довжину рук, які не відповідають фактичним довжинам принтера. Незважаючи на це, тестування показали, що DELTA_ANALYZE часто виробляє чудові результати. Вважають, що розрахункові параметри дельта здатні враховувати незначні помилки в фурнітурі. Наприклад, невеликі відмінності в довжині руки можуть призвести до нахилу до ефекту і деяких з них тент може бути врахований для регулювання параметрів довжини руки.

## Використання Бесплатної сітки на Делі

Можливе використання [боротна сітка](Bed_Mesh.md) на дельті. Однак, важливо отримати хорошу калібрування дельти, перш ніж забезпечити сітчасту сіточку. Виконується сітчаста сіточка з поганим дельта калібруванням призведе до заплутування і бідних результатів.

Зауважте, що виконання калібрування дельта буде недійсним будь-якої раніше отриманої сітки. Після виконання нового калібрування дельта обов'язково перезапуск BED_ MESH_CALIBRATE.
