# Поширені питання та відповіді на них

## Як я можу пожертвувати проект?

Дякуємо за підтримку. Дивитися сторінку [Спонсори](Спонсори.md) для інформації.

## Як я розрахувати параметр налаштування_distance?

Дивитися [вихідний документ](Rotation_Distance.md).

## Де мій серійний порт?

Загальний спосіб пошуку послідовного порту USB полягає в тому, щоб запустити `ls /dev/serial/by-id/*` з терміналу Ssh на машині. Імовірно виготовляти вихід, схожий на наступні:

```
/dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0
```

Назва, що міститься в вищезазначеній команді, є стабільною і її можна використовувати в файлі конфігурації і при цьому миготуванні коду мікроконтролера. Наприклад, флеш-компанія може виглядати як:

```
sudo обслуговування klipper стоп
зробити флеш FLASH_DEVICE=/dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0
sudo сервіс klipper старт
```

і оновлена конфігурація може виглядати як:

```
[mcu]
Серія: /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0
```

Обов'язково скопіювати і скопіювати ім'я від команди "лс", яку ви побігли над назвою буде різним для кожного принтера.

Якщо ви використовуєте декілька мікроконтролерів, і вони не мають унікальних потоків (комона на дошках з чіпом USB CH340), то слідуйте за напрямами, описаними вище за допомогою команди `ls/dev/serial/by-path/*`.

## Коли мікроконтролер перезавантажує зміни пристрою до /dev/ttyUSB1

Дотримуйтеся вказівок у розділі «[Де мій послідовний порт?](#wheres-my-serial-port)», щоб цього не сталося.

## Команда «make flash» не працює

Код намагається зафіксувати пристрій, використовуючи найбільш поширений метод для кожної платформи. На жаль, існує багато варіантних методів, тому команда «мейк флеш» не може працювати на всіх платах.

Якщо у вас є проміжна відмова або у вас є стандартна настройка, то подвійний перевірте, що Klipper не працює при миготуванні (підключення служби klipper), переконайтеся, що OctoPrint не намагається підключити безпосередньо до пристрою (відкрийте вкладку підключення в веб-сторінку та натисніть кнопку Від'єднатися, якщо Serial Port встановлюється на пристрій), і переконайтеся, що FLASH_DEVICE встановлюється правильно для вашої дошки (див. [запит вище](#де-my-serial-port)).

Але якщо «зробити флешку» просто не працює для вашої дошки, то вам потрібно буде вручну спалахати. Переглядайте, чи є файл налаштування в каталозі [config](./config) з певними інструкціями для миття пристрою. Також перевірте документацію виробника дошки, щоб побачити, чи йдеться про те, як спалахувати пристрій. Нарешті, це може бути можливо вручну за допомогою інструментів, таких як "avrdude" або "bossac" - див. [завантажувальний документ](Bootloaders.md) для додаткової інформації.

## Як змінити частоту паводка?

Рекомендований курс для Klipper - 250000. Цей курс добре працює на всіх мікроконтролерних дошках, які підтримує Klipper. Якщо ви знайшли онлайн-довідник, який рекомендує різну частоту baud, то ігноруйте цю частину керівництва і продовжуйте значення за замовчуванням 250000.

Якщо ви хочете змінити частоту буду в будь-який час, то новий курс буде потрібно налаштувати в мікроконтролері (принад **make менюconfig**) і цей оновлений код буде потрібно скомпільувати і зафіксувати до мікроконтролера. Файл Klipper принтер.cfg також потрібно оновлювати, щоб відповідати цьому курсу baud (див. посилання [config](Config_Reference.md#mcu) для деталей). Наприклад:

```
[mcu]
дужина: 250000
```

На веб-сторінці OctoPrint не впливає на внутрішній рівень мікроконтролера кліппера. Завжди налаштуйте курс OctoPrint до 250000 при використанні Klipper.

Частота мікроконтролера Klipper не пов'язана з частотою забору мікроконтролера. Дивитися [завантажити документ](Bootloaders.md) для додаткової інформації про завантажувачі.

## Чи можу я запустити Klipper на щось інше, ніж Raspberry Pi 3?

Рекомендоване обладнання - Малина Пі 2, Малина Пі 3, або Малина Пі 4.

Klipper буде курсувати на Малина Пі 1 і на Малина Пі Зеро, але ці дошки не мають достатньої потужності обробки, щоб запустити OctoPrint добре. Зазвичай для друку конструкцій, які відбуваються на цих повільних машинах при друку безпосередньо з OctoPrint. (Принтер може рухатися швидше, ніж OctoPrint може надсилати команди руху.) Якщо ви хочете запустити на одному з цих повільних дощок в будь-який час, розгляньте за допомогою функції "virtual_sdcard" при друку (див. [посилання на налаштування](Config_Reference.md#virtual_sdcard) для деталей).

Для запуску на Beaglebone див. в розділі [Налаштування конкретної інсталяції](Beaglebone.md).

Кліппер працює на інших машинах. Програмне забезпечення для хіппера вимагає завантаження Python на Linux (або аналогічний) комп'ютер. Однак, якщо ви хочете запустити його на іншій машині, вам потрібно знати Linux адміністратора для установки реквізитів системи для цієї конкретної машини. Дивитися скрипт [install-octopi.sh](./scripts/install-octopi.sh) для подальшої інформації про необхідні кроки адміністратора Linux.

Якщо ви шукаєте запустити програмне забезпечення Klipper на низькій струзі, то пам'ятайте, що, в мінімальному, машині з "подвійною точкою плавлення" необхідно обладнання.

Якщо ви шукаєте запустити програмне забезпечення Klipper на спільній універсальній настільній або серверній машині, то зауважте, що Klipper має деякі вимоги до виконання в режимі реального часу. Якщо, під час друку, хостовий комп'ютер також виконує інтенсивне завдання з обчислення загального призначення (наприклад, дефрагментація жорсткого диска, 3d рендеринга, важке ковзання і т.д.), то це може викликати Klipper, щоб повідомити помилки друку.

Примітка: Якщо ви не використовуєте зображення OctoPi, будь ласка, вкажіть, що кілька дистриб'юторів Linux дозволяють пакету "ModemManager" (або аналогічний), який може порушити послідовне спілкування. (Жіч може викликати Klipper, щоб звітувати, здавалося б, випадкові "Останні комунікації з MCU" помилки.) Якщо ви встановите Klipper на одному з цих розподілів, вам може знадобитися відключити цей пакет.

## Чи можу я запустити кілька екземплярів Klipper на одному хост-машини?

Ви можете запустити декілька екземплярів програмного забезпечення Klipper, але це вимагає знань адміністратора Linux. Скрипки установки Klipper в кінцевому підсумку викликають команду Unix:

```
~/klippy-env/bin/python ~/klipper/klippy/klippy.py ~/printer.cfg -l/tmp/klippy.log
```

Один може запустити кілька екземплярів вищевказаної команди, доки кожен екземпляр має власний файл налаштування принтера, власний файл журналу, і власний псевдо-тty. Наприклад:

```
~/klippy-env/bin/python ~/klipper/klippy/klippy.py ~/printer2.cfg -l/tmp/klippy2.log -I /tmp/printer2
```

Якщо ви обираєте це зробити, вам потрібно буде виконати необхідний запуск, зупинку та інсталяційні скрипти (за наявності). [install-octopi.sh](./scripts/install-octopi.sh) скрипт і [klipper-start.sh](./scripts/klipper-start.sh) скрипт може бути корисний як приклади.

## Чи можу я використовувати OctoPrint?

Програмне забезпечення Klipper не залежить від OctoPrint. Ви можете використовувати альтернативне програмне забезпечення для відправки команд до Klipper, але це вимагає знання адміністратора Linux.

Klipper створює "віртуальний серійний порт" через файл "/tmp/printer", і він емульгує класичний 3d-printer послідовний інтерфейс через цей файл. В цілому альтернативне програмне забезпечення може працювати з Klipper до тих пір, поки він може бути налаштований для використання "/tmp/printer" для принтера серійного порту.

## Чому я не можу перемістити степпер перед затіненням принтера?

Код дозволяє зменшити ймовірність випадкового виконання голови в ліжко або стіну. Після того, як принтер додається спробам програмного забезпечення, щоб перевірити кожен рух, знаходиться в позиції_min/max, визначеному в файлі конфігурації. Якщо двигуни відключені (через команду M84 або M18), то двигуни потрібно знову добиратися до руху.

Якщо ви хочете перемістити голову після скасування друку через OctoPrint, розгляньте зміни послідовності скасування OctoPrint для цього для вас. Настроювання в OctoPrint через веб-браузер під: Налаштування -> GCODE скрипти

Якщо ви хочете перемістити голову після обробки друку, врахуйте, додавши бажаний рух до розділу "кутом g-коду".

Якщо принтер вимагає певного додаткового руху в складі самого процесу хмінгу (або принципово не має процесу хмінгу) то розглянемо за допомогою безпечного_z_home або homing_override в розділі налаштування. Якщо вам необхідно перемістити кроковий інструмент для діагностики або видалення цілей, після чого слід додати в файл config_move. Див. [Налаштування посилання](Config_Reference.md#customized_homing) для подальших деталей на цих параметрах.

## Чому Z позиції_endstop встановити на 0.5 в налаштуваннях за замовчуванням?

Для картоперіанського стилю друкує позицію Z_endstop визначає, наскільки далеко сопла знаходиться з ліжка, коли торцеві тригери. Якщо це можливо, рекомендується використовувати Z-max endstop і додому від ліжка (як це знижує потенціал при зіткненні ліжка). Однак, якщо необхідно будинок до ліжка, то рекомендується розташовувати торцеву стільницю, щоб вона запускає, коли насадка ще невелика відстань від ліжка. Таким чином, коли замішуючи вісь, вона зупиниться перед насадкою доторкається ліжка. Дивитися документ рівня [bedded](Bed_Level.md) для отримання додаткової інформації.

## Я перетворю свою настройку з Марліна і X / Y ось працюють дрібно, але я просто отримую шум скребкування при хмінгу осі Z

Коротка відповідь: По-перше, переконайтеся, що ви перевірили конфігурацію stepper, як описано в [config check документ](Config_checks.md). Якщо проблема зберігається, спробуйте зменшити налаштування макс_z_velocity у налаштуваннях принтера.

Довгий відповідь: У практиці Марлін може як правило, тільки крок за курсом близько 10000 кроків на другий. Якщо це запитується, щоб перейти на швидкість, яка вимагає більш високої швидкості, тоді Марлін, як правило, просто крок, як це може. Кліппер здатний досягти значно більш високих показників кроку, але кроковий двигун не може мати достатній крутний момент для переміщення на більшій швидкості. Таким чином, для осі Z з високим коефіцієнтом передачі або високими мікрокропами, що встановлюють фактичну прибуткову максимальну_z_velocity, може бути меншим, ніж який налаштовується в Марліні.

## Драйвер My TMC вимкнений в середині друку

При використанні драйвера TMC2208 (або драйвера TMC2224) в режимі "standalone" потім переконайтеся, що використання [найширшої версії Klipper](#how-do-i-upgrade-to-latest-software). До Klipper в середині березня 2020 року додана робота для драйвера ТМC2208 «stealthchop».

## Я тримаю випадкові помилки "Lost спілкування з MCU"

Це, як правило, викликано апаратними помилками на USB-з'єднання між хост-машиною та мікроконтролером. Що подивитися на:

- Використовуйте гарну якість кабелю USB між хост-машиною та мікроконтролерами. Переконайтеся, що застібки безпечні.
- Якщо ви використовуєте Raspberry Pi, скористайтеся [Високою якістю харчування](https://www.raspberrypi.com/documentation/computers/raspberry-pi.html#power-supply) для Малина Пі та скористайтеся [good якість USB-кабель](https://forums.raspberrypi.com/viewtopic.php?p=589877#p589877) для підключення цього джерела живлення на Пі. Якщо ви отримуєте "під напругою" попередження від OctoPrint, це пов'язано з живленням і його необхідно зафіксувати.
- Переконайтеся, що джерело живлення принтера не перевантажується. (Флуктуації живлення до чіпа micro-controller може призвести до скидання цього чіпа.)
- Переконайтеся, що дроти крокового кроку, нагрівача та інших принтерів не зігнуті та не потерті. (Рух принтера може спричинити навантаження на несправний дріт, що призведе до втрати контакту, короткочасного замикання або створення надмірного шуму.)
- У зв'язку з технологічними роботами, ми можемо надати інформацію про високий рівень USB, коли як джерело живлення принтера, так і джерело живлення 5В. (Якщо ви виявите, що потужність мікроконтролера, коли або джерело живлення принтера знаходиться на або USB-кабель, то це вказує на живлення 5В, змішані.) Це може допомогти налаштовувати мікроконтролер для використання потужності з одного джерела. (Включно, якщо дошка мікроконтролера не може налаштовувати джерело живлення, можна змінити USB-кабель так, що вона не несе живлення 5В між хостом і мікроконтролером.)

## Мій Малина Пі зберігає перезавантаження під час друку

Це, швидше за все, до коливання напруги. Дотримуйтесь тих же кроків з усунення неполадок на [[Lost спілкування з MCU"](#i-keep-geting-random-lost- Communications-with-mcu-errors) помилки.

## Коли я поставив `restart_method=command` мій AVR пристрій просто висить на решті

Деякі старі версії AVR завантажувача мають відоме помилки в перегляді подій. Це, як правило, проявляється, коли принтер.cfg файл має перезавантаження_метод встановити до "команду". При виникненні клопотання, пристрій AVR буде нечутливим до моменту видалення потужності і перезаряджається до пристрою (сила або статус світлодіодів також може періодично зв'язуватися до моменту видалення живлення).

Робота є використовувати решту_метод, крім "команди" або натиснути оновлений завантажувач до пристрою AVR. Висвітлення нового завантажувача є одним кроком, який зазвичай вимагає зовнішнього програматора - див. [Bootloaders](Bootloaders.md) для подальших деталей.

## Чи залишаться нагрівачі, якщо збитки малини?

Програма призначена для запобігання цього. Після того, як хост дозволяє нагрівачу, хостове програмне забезпечення необхідно підтвердити, що увімкнення кожні 5 секунд. Якщо мікроконтролер не отримує підтвердження кожні 5 секунд, він переходить в стан "повороту", який призначений для виключення всіх нагрівачів і крокових двигунів.

Дивитися команду "config_digital_out" в [MCU команди](MCU_Commands.md) для подальших деталей.

Крім того, програмне забезпечення micro-controller налаштоване з мінімальним і максимальним діапазоном температур для кожного обігрівача при запуску (див. параметри Min_temp і max_temp в [посилання на налаштування](Config_Reference.md#extruder) для деталей). Якщо мікроконтролер виявить, що температура зовні цього діапазону, то вона також буде входити в стан «пошуку».

Окремо, хостове програмне забезпечення також реалізує код, щоб перевірити, що нагрівачі та датчики температури функціонують правильно. Див. [Налаштування посилання](Config_Reference.md#verify_heater) для подальших деталей.

## Як перетворити марлін контактний номер на ім'я клиппера?

Коротка відповідь: У файлі [sample-aliases.cfg](./config/sample-aliases.cfg). Використовуйте цей файл як керівництво для пошуку фактичних мікроконтролерів контактних імен. (Так само можна копіювати відповідні [board_pins](Config_Reference.md#board_pins) розділ конфігурації в файл config і використовувати псевдоніми в налаштуваннях, але бажано перевести і використовувати фактичні мікроконтролерні імена штифтів.) Зверніть увагу, що зразок-aliases.cfg файл використовує контактні імена, які починаються з префікса "ar" замість "D" (наприклад, Arduino pin `D23` є Klipper alias `ar23`) і префікс "алог" замість "A" (наприклад, Arduino pin `A14` є Klipper alias `analog14`).

Довгий відповідь: Кліппер використовує стандартні імена штифтів, визначені мікроконтролером. На чіпах Atmega ці апаратні шпильки мають імена, такі як `PA4`, `PC7`, або `PD2`.

Довгий тому, проект Arduino вирішив уникнути використання стандартних фурнітурних імен на користь власних контактних імен на основі вхідних чисел - ці назви Arduino зазвичай виглядають як `D23` або `A14`. Це був непристойний вибір, який веде до великої угоди. Зокрема, номери Arduino часто не переходять на ті самі апаратні імена. Наприклад, `D21` `PD0` на одній загальній дошці Arduino, але `PC7` на іншій загальній дошці Arduino.

Щоб уникнути цього конфузії, основний код Кліппер використовує стандартні імена штифтів, визначені мікроконтролером.

## Чи повинен я проводити пристрій до певного типу мікроконтролера?

Залежно від типу пристрою і типу штифта:

ADC шпильки (або Аналогові шпильки): Для лічильників і аналогічних «аналогових» датчиків, пристрій необхідно проводити до «аналізу» або «ADC», здатного притискати на мікроконтролер. Якщо ви налаштуєте Klipper для використання шпильки, який не є аналогом, Klipper повідомить про помилку "Не дійсний ADC pin".

PWM шпильки (або таймерні шпильки): Klipper не використовує апаратні PWM за замовчуванням для будь-якого пристрою. Таким чином, в цілому, один може нагрівачі, вентилятори та аналогічні пристрої до будь-якого загального призначення IO шпильки. Однак, вентилятори та вихідні_pin пристрої можуть бути додатково налаштовані для використання `hardware_pwm: Правда`, в якому випадку, коли мікроконтролер повинен підтримувати апаратні засоби PWM на шпилькі (інше, Klipper повідомить про помилку "Не діє PWM".

IRQ шпильки (або Interrupt шпильки): Кліппер не використовує апаратні переривання на IO шпильках, тому він ніколи не потрібно проводити пристрій до одного з цих мікроконтролерних штифтів.

SPI шпильки: При використанні апаратних SPI необхідно проводити шпильки до мікроконтролера SPI здатні шпильки. Тим не менш, більшість пристроїв можуть бути налаштовані на використання "software SPI", в якому можна використовувати будь-які загальні цілі IO шпильки.

I2C шпильки: При використанні I2C необхідно проводити шпильки до мікроконтролера I2C здатні шпильки.

Інші пристрої можуть бути передані до будь-якого загального призначення IO шпильки. Наприклад, steppers, обігрівачі, вентилятори, Z зонди, servos, світлодіоди, загальний hd44780/st7920 РК-дисплей, лінія керування Trinamic UART може бути проведена до будь-якого загального призначення IO шпильки.

## Як скасувати M109/M190 "відплата за температуру"?

Навігація на вкладку OctoPrint і виписка команди M112 в терміналі. Команда M112 спричинить Klipper, щоб ввести в стан "пошуку", і це призведе до OctoPrint для відключення від Klipper. Навігація на область з'єднання OctoPrint і натисніть на кнопку "Connect", щоб викликати OctoPrint для відключення. Навігація назад до вкладки терміналу і виписка FIRMWARE_ Команда RESTART для очищення стану помилок Klipper. Після завершення цієї послідовності, попередній запит на опалення буде скасовано, і може бути розпочато новий друк.

## Чи можу я дізнатися, чи втратив принтер?

Так. Головна принтера, виписка `GET_SETTING` команда, запустити свій друк, додому знову і випустити інший `GET_SETTING`. Далі порівнювати значення в рядку `mcu:`.

Це може бути корисним, щоб налаштувати налаштування, такі як кроковий двигун струми, прискорення та швидкості, не потрібно, щоб фактично друкувати щось та відходи ниток, просто запустити деякі швидкісні переміщення між командами `GET_SETTING`.

Зверніть увагу, що ендостоп перемикає себе, як правило, викликається на незначних різних позиціях, тому різниця пари мікрокропів, швидше за все, результат ендостопної неточності. Сам кроковий двигун може тільки втратити кроки в надбавках 4 повних кроків. (Так, якщо один використовує 16 мікрокропів, то загублений крок на степпері призведе до «мку:» крокової стійки, що відключається декількома мікрокрокрокропами 64.)

## Чому помилки звіту Klipper? Я втратив свій друк!

Коротка відповідь: Ми хочемо знати, якщо наші принтери виявляють проблему, щоб базовий номер можна виправити, і ми можемо отримати відмінні якості друку. Ми обов'язково не хочемо, щоб наші принтери мовчали виготовили низькі якості друку.

Довгий відповідь: Klipper був розроблений, щоб автоматично працювати багато проблем. Наприклад, автоматично виявляє помилки зв'язку і переадресує; він розкладає дії заздалегідь і буфери команди на декількох шарах, щоб забезпечити точний час, навіть з перешкодами. Однак, слід виявити помилку, що вона не може відновитися від, якщо вона командується, щоб прийняти недійсну дію, або якщо вона виявить, що це неможливе, щоб виконати своє командне завдання, то Klipper повідомить про помилку. У цих ситуаціях існує високий ризик створення неякісного друку (або гірше). Сподіваємось, що оповіщення користувача надасть їм можливість виправити основну проблему і підвищити загальну якість їх друку.

Питання та відповіді Чому б не зафіксувати друк? Повідомити про це повідомлення? Перевірити помилки до друку? Ігнорувати помилки у користувацьких командах? і т.д. Зараз Klipper читати команди за допомогою протоколу G-Code, і, на жаль, протокол команд G-Code не є достатньо гнучким, щоб зробити ці альтернативи практичними сьогодні. Зацікавлення розробника при покращенні досвіду користувачів при аноматичних подіях, але очікується, що вимагатиметься нездійсненна інфраструктурна робота (включаючи відключення від G-Code).

## Як оновити до останнього програмного забезпечення?

Першим кроком для оновлення програмного забезпечення є огляд останніх [Налаштування змін](Config_Changes.md) документа. Звісно, зміни внесені до програмного забезпечення, яке вимагає від користувачів оновлювати свої налаштування в рамках оновлення програмного забезпечення. Це гарна ідея для перегляду цього документа до оновлення.

Коли готовий оновити, загальний метод полягає в тому, щоб сса в Малини Пі і запустити:

```
cd ~ / клиппер
git тягнути
javascript licenses api веб-сайт go1.13.8
```

Після чого можна перезгорнути і зафіксувати мікроконтролерний код. Наприклад:

```
налаштування меню
Чистий
Зроби

sudo обслуговування klipper стоп
зробити флеш FLASH_DEVICE=/dev/ttyACM0
sudo сервіс klipper старт
```

Тим не менш, часто справа, що тільки зміни програмного забезпечення. У цьому випадку можна оновити та перезавантажити лише програмне забезпечення для проведення:

```
cd ~ / клиппер
git тягнути
sudo обслуговування klipper кварц
```

Якщо після використання цього ярлика програмне забезпечення попереджає про необхідність рефлешування мікроконтролера або деяких інших незвичайних помилок, то слідувати за повними кроками оновлення, викладеними вище.

Якщо будь-які помилки зберігаються, то подвійний перевірте [Налаштування змін](Config_Changes.md) документ, як ви можете змінити налаштування принтера.

Зверніть увагу, що RESTART та FIRMWARE_ Команда RESTART g-code не завантажує нове програмне забезпечення - вище "sudo service klipper restart" і команди "make flash" потрібні для зміни програмного забезпечення, щоб прийняти ефект.

## Як видалити Klipper?

В кінці прошивки нічого особливого необхідно стати. Просто стежте за напрямами спалаху нової прошивки.

В кінці малинового стовпа можна видалити скрипт [scripts/klipper-uninstall.sh](./scripts/klipper-uninstall.sh). Наприклад:

```
javascript licenses api веб-сайт go1.13.8
rm -rf ~/klippy-env ~/клиппер
```
