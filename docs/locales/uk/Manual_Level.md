# Керівництво вирівнювання

Цей документ описує інструменти для калібрування торцевої частини Z і для виконання настройок до вирівнюючих гвинтів.

## Калібрування Z endstop

Точна позиція Z Endstop є критичною для отримання високоякісних друку.

Зауважте, що точність перемикача Z може бути обмеженим фактором. Якщо один використовує драйвери двигуна Trinamic, то врахуйте, що [endstop Phase](Endstop_Phase.md) для поліпшення точності перемикача.

Щоб виконати калібрування Z, в домашніх умовах принтер, командуйте голову, щоб перейти на позицію Z, яка не менше п'яти міліметрів над ліжком (якщо це вже не так), зробіть голову, щоб перейти на позицію XY недалеко від центру ліжка, після чого навігувати на вкладку терміналу OctoPrint і запустити:

```
З_ENDSTOP_CALIBRATE
```

Далі слідуйте за кроками, описаними на [«паперовий тест"](Bed_Level.md#the-paper-test) для визначення фактичної відстані між насадкою і ліжком на даній локації. Після завершення цих кроків можна `ACCEPT` позицію та зберегти результати на файл config з:

```
ПРОКСИМУС
```

Для використання перемикача Z на зворотному кінці осі Z з ліжка. (Відправлення від ліжка є більш надійним, оскільки він зазвичай завжди безпечний для дому Z.) Однак, якщо необхідно будинок до ліжка, рекомендується відрегулювати стільницю так, щоб він запускає невелику відстань (наприклад, .5мм) над ліжком. Практично всі кінцеві вимикачі можуть бути сміливо пригнічені невеликою відстанньою відстанцією. Коли це зроблено, слід знайти, що `Z_ENDSTOP_CALIBRATE` команда звітує про невелику позитивну цінність (наприклад, .5mm) за позицію Z_endstop. Тригерінг торцевого стоку, поки він ще не відрізняється від ліжка знижує ризик виникнення неперевершених постільних речей.

Деякі принтери мають можливість вручну регулювати розташування фізичного перемикача. Тим не менш, рекомендується виконати позиціювання Z Endstop в програмному забезпеченні з Klipper - один раз на фізичну місцезнаходження endstop знаходиться в зручному місці, можна зробити будь-які додаткові налаштування, використовуючи Z_ENDSTOP_CALIBRATE або вручну оновити позицію Z_endstop у файлі конфігурації.

## Регулювання вирівнювальних шурупів

Секрет отримання гарного вирівнювання ліжко за допомогою саморізів постільних речей полягає в тому, щоб використовувати високу точність руху принтера під час процесу вирівнювання ліжко. Це робиться за допомогою насадки до положення біля кожного шнека ліжка, а потім регулюючи, що гвинт до моменту встановлення відстані від насадки. Klipper має інструмент, щоб допомогти з цим. Для того щоб скористатися інструментом необхідно вказати кожен гвинт XY місце розташування.

Це зроблено шляхом створення `[bed_screws]` розділу налаштування. Наприклад, це може виглядати щось схоже на:

```
[bed_screws]
шнек1: 100, 50
шнек2: 100, 150
шнек3: 150, 100
```

Якщо під ліжком знаходиться гвинт, то вкажіть положення XY безпосередньо над гвинтом. Якщо шнек знаходиться поза ліжком, то вкажіть позицію XY найближче до шнека, який ще знаходиться в діапазоні ліжка.

Після того, як файл config готовий, запустіть `RESTART`, щоб завантажити цю конфігурацію, а потім можна запустити інструмент за допомогою запуску:

```
BED_SCREWS_ADJUST
```

Цей інструмент перемістить насадку принтера до кожного гвинта XY розташування, а потім перемістіть насадку до висоти Z=0. У цей момент можна використовувати "паперовий тест" для регулювання гвинта ліжка безпосередньо під насадкою. Див. інформацію, описану в [«Паперовий тест"](Bed_Level.md#the-paper-test), але регулюйте гвинт замість закріплення сопла на різні висоти. Регулювання гвинта ліжка до тих пір, поки є невелика кількість тертя при натисканні паперу назад і вперед.

Після того, як гвинт регулюється так, що невелика кількість тертя відчується, запустіть або команду `ACCEPT` або `ADJUSTED`. Використовуйте команду `ADJUSTED`, якщо шнековий гвинт необхідний регулювання (звичайно все більше 1 / 8-й повороту гвинта). Використовуйте команду `ACCEPT`, якщо не потрібно значне регулювання. Обидва команди будуть викликати інструмент, щоб перейти на наступний гвинт. (Коли використовується команда `ADJUSTED`, інструмент буде розкладати додатковий цикл регулювання шнека; інструмент успішно завершується, коли всі шурупи верифіковані, щоб не потрібно ніяких значних регулювань.) Один може використовувати команду `ABORT` для виходу інструменту рано.

Ця система працює краще, коли принтер має плоску поверхню друку (наприклад, скло) і має прямі рейки. Після успішного завершення вирівнюючого інструменту ліжко необхідно підготуватися до друку.

### Відмінні регулювання гвинтових шнеків зерна

Якщо принтер використовує три шурупи і всі три шурупи під ліжком, то можна виконати другий «висока точність» крок вирівнювання ліжка. Це робиться за допомогою насадки на місця, де ліжко переміщається більшу відстань з кожним регулюванням гвинта.

Наприклад, розгляньте ліжко з гвинтами в місцях А, Б і С:

![bed_screws](img/bed_screws.png)

Для кожного регулювання, виготовленого до грядки гвинта при локації С, ліжко буде гойдалитися уздовж ручки, визначеної рештою двома шурупами (проглянути тут як зелена лінія). У цій ситуації кожна корекція до гвинта ліжка на C перемістить ліжко на позиції D додатково на C. Таким чином, можна зробити поліпшену регулювання гвинта C при насадці D.

Щоб увімкнути цю функцію, потрібно визначити додаткові координати сопла і додати їх в файл конфігурації. Наприклад, це може виглядати:

```
[bed_screws]
шнек1: 100, 50
гвинт1_fine_adjust: 0, 0
шнек2: 100, 150
гвинт2_fine_adjust: 300, 300
шнек3: 150, 100
гвинт3_fine_adjust: 0, 100
```

Коли ця функція ввімкнена, то `BED_SCREWS_ADJUST` інструмент спочатку підкаже для грубих регулювань безпосередньо над кожним гвинтовим положенням, і як тільки ті прийняті, він підкаже для тонких регулювань на додаткових місцях. Продовжити використання `ACCEPT` і `ADJUSTED` на кожній позиції.

## Регулювання вирівнювальних шурупів за допомогою постільної білизни

Це ще один спосіб калібрувати рівень ліжка за допомогою постільної білизни. Для цього необхідно мати зонд Z (BL Touch, індуктивний датчик тощо).

Щоб увімкнути цю функцію, можна визначити координати сопла, такі, що зонд Z над шурупами, а потім додати їх в файл конфігурації. Наприклад, це може виглядати:

```
[Screws_tilt_adjust]
шнек1: -5, 30
гвинт1_name: передній лівий гвинт
шнек2: 155, 30
гвинт2_name: передній правий гвинт
шнек3: 155, 190
гвинт3_name: задній правий гвинт
шнек4: -5, 190
гвинт4_name: задній лівий гвинт
горизонтальний_move_z: 10.
швидкість: 50.
шнек_тред.: CW-M3
```

Шнек 1 завжди є пунктом посилання для інших, тому система припускає, що гвинт1 знаходиться на правій висоті. Завжди запустіть `G28` спочатку і потім запустіть `SCREWS_TILT_CALCULATE` - він повинен виробляти вихід аналогічно:

```
Відправлення: G28
Реквізити: ok
Электронная пошта: sales@creWS.com
Recv: // 01:20 означає 1 повний поворот і 20 хвилин, CW=clockwise, CCW=counter-clockwise
Recv: // передній лівий гвинт (база) : x=-5.0, y=30.0, z=2.48750
Recv: // передній правий гвинт : x=155.0, y=30.0, z=2.36000 : регулювати CW 01:15
Recv: // задній правий гвинт : y=155.0, y=190.0, z=2.71500 : регулювати CCW 00:50
Recv: // читати лівий гвинт : x=-5.0, y=190.0, z=2.47250 : регулювати CW 00:02
Реквізити: ok
```

Це означає:

- передній лівий гвинт - це точка посилання, яку ви не повинні змінити.
- передній правий гвинт повинен бути поворотним годинником 1 повний поворот і чверть повороту
- задньому правому гвинту необхідно перевернути проти годинникової стрілки 50 хвилин
- задній лівий гвинт повинен бути перевернутий годинниковою стрілкою 2 хвилини (не потрібно це ок)

Зауважте, що "хвилини" відноситься до "хвилини годинникового обличчя". Так, наприклад, 15 хвилин є кварталом повного повороту.

Повторіть процес кілька разів, поки ви отримаєте гарне ліжко рівня - зазвичай, коли всі налаштування нижче 6 хвилин.

При використанні зонда, який кріпиться на боці гарячої дошки (тобто він має X або Y offset), після чого слід зазначити, що регулювання нахилу ліжка буде недійсним будь-якого попереднього калібрування, який був виконаний з нахилом ліжка. Обов'язково запустіть [пробе калібрування](Probe_Calibrate.md) після регулювання шнеків.

`MAX_DEVIATION` параметр корисний, коли використовується збережена сіточка, щоб забезпечити, що рівень ліжка не дратувався занадто далеко від того, де була створена сіточка. Наприклад, `SCREWS_TILT_CALCULATE МАКС_DEVIATION=0.01` можна додавати до користувацького старту штрих-коду до завантаження сітки. При налаштуванні ліміту перевищено (0.01mm у цьому прикладі), надаючи користувачеві можливість регулювати гвинти і перезавантажити друк.

Параметри параметра `DIRECTION` корисно, якщо ви можете перетворювати гвинти на один напрямок тільки. Наприклад, ви можете мати гвинти, які починають затягуватися в найнижчому (або найвищому) положенні, які можуть бути використані тільки в одному напрямку, щоб підняти (або нижній) ліжко. Якщо ви можете перетворювати шурупи, запустіть `SCREWS_TILT_CALCULATE DIRECTION=CW`. Якщо ви можете перетворювати їх проти годинникової стрілки, запустіть `SCREWS_TILT_CALCULATE DIRECTION=CCW`. Підійде довідкова точка буде обраний таким чином, що ліжко можна вирівняти, перетворюючи всі гвинти в заданому напрямку.
