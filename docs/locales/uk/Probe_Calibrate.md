# Пробе калібрування

Цей документ описує метод калібрування X, Y та Z offsets of "автоматичний зонд" в Klipper. Це корисно для користувачів, які мають `[probe]` або `[bltouch]` розділ в їх файлі налаштування.

## Калібруючий зонда X і Y офсети

Щоб калібрувати X і Y offset, навігувати на вкладку OctoPrint "Control", в домашніх умовах принтер, а потім використовувати кнопки стрибок OctoPrint для переміщення голови в позицію біля центру ліжка.

Помістіть шматочок синього художника стрічки (або аналогічний) на клумбі під ним. Navigate to the OctoPrint "Terminal" tab і problem a PROBE команда:

```
ПРОБЛЕ
```

Помістіть позначку на стрічці безпосередньо під час якого зонд (або скористайтесь схожим методом для замітки місця розташування на ліжку).

`GET_SETTING` командування та запис місцезнаходження Інструменту XY повідомили, що команда. Наприклад, якщо один бачить:

```
Recv: // інструментголова: X:46.500000 Y:27.000000 З:15.000000 E:0.000000
```

потім записати пробе X позицію 46.5 і пробе Y позиції 27.

Після запису положення проби виписайте ряд команд G1 до моменту, поки насадка безпосередньо над позначкою на ліжку. Наприклад, можливо, питання:

```
G1 F300 X57 Y30 Z15
```

перемістити насадку до положення X 57 і Y від 30. Після того, як ви знайдете позицію безпосередньо над позначкою, скористайтеся `GET_SETTING`, щоб повідомити цю позицію. Це положення насадки.

Кс_оффсет потім `nozzle_x_положення - probe_x_положення` і y_offset аналогічно `nozzle_y_положення - probe_y_положення`. Оновіть файл принтера.cfg з заданими значеннями, видаліть стрічку/марки з ліжка, а потім випишіть команду `RESTART`, щоб нові значення впливають.

## Калібруючий зонда Z

Надання точного зонда z_offset є критичним для отримання високоякісних друку. Z_offset - це відстань між насадкою і ліжком, коли запускається зонд. Кліппер ` PROBE_CALIBRATE` може використовуватися для отримання цього значення - він буде запустити автоматичний зонд, щоб виміряти позицію запобіжника зонда, а потім почати ручний зонд для отримання насадки Z висоти. Пробе z_offset буде обчислено з цих вимірювань.

Починайте захоплення принтера і потім перемістіть голову в позицію біля центру ліжка. Навігація на вкладку OctoPrint та запустіть `PROBE_CALIBRATE`, щоб запустити інструмент.

Цей інструмент буде виконувати автоматичний зонд, після чого піднімати голову, перемістити насадку над розташуванням точки зон проби, і почати ручний інструмент зонду. Якщо насадка не переходить на позицію над автоматичною точкою зонду, то `ABORT` ручний інструмент зонду і виконує калібрування XY, описане вище.

Після запуску ручного датчика виконайте кроки, описані в ["тест паперу"](Bed_Level.md#the-paper-test), щоб визначити фактичну відстань між соплом і ложем у заданому місці. Після завершення цих кроків можна `ПРИЙНЯТИ` позицію та зберегти результати у файлі конфігурації за допомогою:

```
ПРОКСИМУС
```

Зверніть увагу, що якщо зміна виконана до системи руху принтера, положення про гарячий, або розташування зон, то вона буде недійсною результатів PROBE_CALIBRATE.

Якщо зонд має X або Y зміщений і змінений нахил постільної білизни (наприклад, за допомогою регулювальних шурупів, що працюють DELTA_CALIBRATE, що працює Z_TILT_ADJUST, працює QUAD_GANTRY_LEVEL, або аналогічний), то він буде недійсним результатам PROBE_CALIBRATE. Після здійснення будь-якого з вищезазначених конфігурацій необхідно запустити PROBE_CALIBRATE знову.

Якщо результати PROBE_CALIBRATE недійсні, то будь-які попередні [боротна сітка](Bed_Mesh.md) результати, які були отримані з використанням зонда, також недійсні - потрібно буде перезапустити BED_MESH_CALIBRATE після перерахунку на зонд.

## Перевірка повторюваності

Після калібрування зонду X, Y та Z offsets це гарна ідея, щоб переконатися, що зонд забезпечує повторювані результати. Починайте захоплення принтера і потім перемістіть голову в позицію біля центру ліжка. Навігація на вкладку OctoPrint та запустіть команду `PROBE_ACCURACY`.

Ця команда буде запустити зонд десять разів і виробляти вихід, схожий на наступні:

```
Recv: // Точність зонда: в X:0.000 Y:0.000 Z:10.000
Recv: // і читати 10 разів зі швидкістю 5 мм / с
Редюме: // Пробе в -0.003,0.005 z=2.506948
Редюме: // Пробе в -0.003,0.005 z=2.519448
Редюме: // Пробе в -0.003,0.005 z=2.519448
Редюме: // Пробе в -0.003,0.005 z=2.506948
Редюме: // Пробе в -0.003,0.005 z=2.519448
Редюме: // Пробе в -0.003,0.005 z=2.519448
Редюме: // Пробе в -0.003,0.005 z=2.506948
Редюме: // Пробе в -0.003,0.005 z=2.506948
Редюме: // Пробе в -0.003,0.005 z=2.519448
Редюме: // Пробе в -0.003,0.005 z=2.506948
Recv: // результати точності зонда: максимум 2.519448, мінімум 2.506948, діапазон 0.012500, середній 2,513198, медіан 2.513198, стандартне відхилення 0.006250
```

В ідеалі інструмент буде звітувати ідентичне максимальне і мінімальне значення. (Це, ідеально, що зонд отримує ідентичний результат на всіх десяти зондах.) Тим не менш, це нормально для мінімальних і максимальних значень, щоб відрізнятись від однієї Z "ступінчастої відстані" або до 5 мкм (.005мм). `rotation_distance/(full_steps_per_rotation*microsteps)`. Відстань між мінімальним і максимальним значенням називається діапазон. Отже, в наведеному вище прикладі, оскільки принтер використовує Z покрокову відстань .0125, діапазон 0.012500 буде вважатися нормальним.

Якщо результати тесту показують значення діапазону, що перевищує 25 мікрон (.025мм) то зонд не має достатньої точності для типових процедур вирівнювання ліжко. Можна налаштувати швидкість зонду та/або висоту зонду, щоб поліпшити повторюваність зонду. Команда `PROBE_ACCURACY` дозволяє запустити тести з різними параметрами, щоб побачити їх вплив - див. [G-Codes документ](G-Codes.md#probe_accuracy) для подальших деталей. Якщо зонд, як правило, отримує повторювані результати, але має випадковий зовнішній вигляд, то це може бути можливо для того, щоб за допомогою декількох зразків на кожному зонду - прочитайте опис зонда `samples` параметри налаштування в [посилання на налаштування](Config_Reference.md#probe) для більш докладної інформації.

Якщо потрібна нова швидкість зонду, кількість зразків або інші налаштування, то оновити файл принтера.cfg і випустити команду `RESTART`. Якщо так, це хороша ідея, щоб [розрахувати z_offset](#calibrating-probe-z-offset) знову. Якщо повторювані результати не можна отримати, то не використовуйте пробе для вирівнювання ліжка. Klipper має кілька ручних інструментів, які можна використовувати замість - див. документ [Bed Level](Bed_Level.md) для подальших деталей.

## Розташування Bias Check

Деякі зонди можуть мати системну упередженість, яка псує результати зонду на певних ділянках. Наприклад, якщо монтувати пальці зонду злегка при русі по осі Y, то це може призвести до звітності про те, що з'являються результати на різних позиціях Y.

Це загальна проблема з зонами на принтерах дельта, проте це може статися на всіх принтерах.

Один може перевірити місце розташування за допомогою `PROBE_CALIBRATE` команди для вимірювання зонда з_офсету в різних X і Y місцях. Ідеально підходить для кожного розташування принтера.

Для дельта принтерів, намагайтеся вимірювати z_offset на позиції біля вежі A, на позиції біля вежі B, а в положенні біля вежі C. Для кошиків, сердечника та аналогічних принтерів намагатися вимірювати z_offset на посадах біля чотирьох кутів ліжка.

Перед початком цього тесту спочатку відкалібруйте зміщення датчика X, Y і Z, як описано на початку цього документа. Потім увімкніть принтер і перейдіть до першої позиції XY. Виконайте дії, описані в розділі [калібрування зонда Z offset](#calibrating-probe-z-offset), щоб запустити команду `PROBE_CALIBRATE`, команди `TESTZ` і команду `ACCEPT`, але не запускайте `SAVE_CONFIG`. Зверніть увагу на знайдений z_offset. Потім перейдіть до інших позицій XY, повторіть ці кроки `PROBE_CALIBRATE` і зверніть увагу на зареєстрований z_offset.

Якщо різниця між мінімальним повідомленням z_offset і максимальною заявленою z_offset є більше 25 мікронів (.025mm) після чого зонд не підходить для типових процедур вирівнювання ліжко. Дивитися [Bed Level документа](Bed_Level.md) для ручних альтернатив зон проби.

## Температура Bias

Багато зондів мають системний зсув при проборі при різних температурах. Наприклад, зонд може послідовно спрацьовуватися при меншій висоті, коли зонд знаходиться при більшій температурі.

Рекомендується запускати засоби вирівнювання постільних речей при незмінній температурі на рахунок цього зносу. Наприклад, як завжди працюють інструменти, коли принтер знаходиться при кімнатній температурі, або завжди запускають інструменти після принтера, отриманих послідовною температурою друку. У будь-якому випадку, це гарна ідея, щоб почекати кілька хвилин після досягнення бажаної температури, щоб пристрій принтера послідовно при бажаній температурі.

Щоб перевірити температурний зсув, починайте з принтером при кімнатній температурі, а потім додому принтер, перемістіть голову в позицію біля центру ліжка, і запустіть команду `PROBE_ACCURACY`. Зверніть увагу на результати. Потім, не захоплюючий або відключаючи степперові мотори, нагрівайте насадку принтера і ліжко до температури друку, і запустіть команду `PROBE_ACCURACY`. В ідеалі команда звітує ідентичні результати. Як і вище, якщо зонд має температуру, то будьте обережні, щоб завжди використовувати зонд при послідовній температурі.
