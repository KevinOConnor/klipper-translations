# Компенсація резонансів

Кліпперові опори Вхідне формування - це техніка, яка може бути використана для зменшення кільця (також відомий як ехоінг, приховує або перехоплення) у принтах. Кільце - це дефект поверхневого друку, коли, як правило, елементи, такі як краї повторюють себе на друкованій поверхні, як тонкий «ехо»:

|![Тест дзвінка](img/ringing-test.jpg)|![3D Benchy](img/ringing-3dbenchy.jpg)|

Кільце викликається механічними коливаннями в принтері через швидкі зміни напрямку друку. Зауважте, що кільце зазвичай має механічне походження: недостатньо жорсткі принтери рамки, нещільно або занадто пружинні ремені, вирівнюючі проблеми механічних деталей, важкої рухомої маси тощо. Якщо це можливо.

[Input shaping](https://en.wikipedia.org/wiki/Input_shaping) є відкритою технікою управління, яка створює сигнал, який скасовує власні вібрації. Перед тим як він може бути включений. Крім того, кільце, вхідне формування, як правило, зменшує вібрацій і погладжування принтера в цілому, а також може підвищити надійність крадіжкиChop режиму Trinamic stepper драйверів.

## Тюнінг

Базове тюнінг вимагає вимірювання частоти кілець принтера шляхом друку тестової моделі.

Вимикайте модель ринг-тесту, яку можна знайти в [docs/prints/ringing_tower.stl](prints/ringing_tower.stl), в скибочку:

* Висота шару застигається 0,2 або 0,25 мм.
* Наповнення і верхній шари можна встановити до 0.
* Використовуйте 1-2 периметри, або навіть краще режим гладкої вази з підставою 1-2 мм.
* Використовуйте досить високу швидкість, близько 80-100 мм / сек, для **зовнішній** периметри.
* Переконайтеся, що мінімальний час шару ** в більшості** 3 секунди.
* Переконайтеся, що будь-який "динамічний контроль прискорення" вимкнено в скибочках.
* Не поверніть модель. Модель має позначки X і Y на спині моделі. Зверніть увагу на незвичайне розташування позначок проти осі принтера - це не помилка. Відмітки можуть бути використані пізніше в процесі тюнінгу як посилання, оскільки вони показують, що вісь виміри відповідають.

### Частота кільця

По-перше, заміряйте частоту **рингінгу **.

1. Якщо змінено параметр `square_corner_velocity`, перевернув його назад до 5.0. Не радимо збільшити його при використанні вхідної форми, тому що вона може викликати більш плавлення деталей - краще використовувати більш високу вартість прискорення замість.
1. Увімкніть функцію `minimum_cruise_ratio`, видавши наступну команду: `SET_VELOCITY_LIMIT МІНІМУМ_КРУС_РАТІО=0`
1. Відключений тиск: `SET_PRESSURE_ADVANCE ADVANCE=0`
1. Якщо ви вже додали `[input_shaper]` розділ до принтера.cfg, виконувати `SET_INPUT_SHAPER SHAPER_FREQ_X=0 SHAPER_FREQ_Y=0` команди. Якщо ви отримуєте "Невідоме командування" помилку, ви можете сміливо ігнорувати його в цій точці і продовжити вимірювання.
1. Виконання команди: `TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5` В основному, ми намагаємося зробити кільце більш вираженим, встановлюючи різні великі значення для прискорення. Ця команда збільшить прискорення кожні 5 мм від 1500 мм/сек^2: 1500 мм/сек^2, 2000 мм/сек^2, 2500 мм/секек^2 і т.д. до 7000 мм/сек^2 на останню смугу.
1. Друк тестової моделі зрізаний за допомогою запропонованих параметрів.
1. Ви можете зупинити друк раніше, якщо кільце чітко видно, і ви бачите, що прискорення отримує занадто високий для вашого принтера (наприклад, принтер шейк занадто багато або починає пропустити кроки).
1. Використовуйте позначки X і Y на спині моделі для посилання. Вимірювання з боку з позначкою X слід використовувати для осі X *конфігурація *, а знак Y - для налаштування осі Y. Виміряйте відстань *D* (в мм) між декількома коливаннями на складі з позначкою X, біля лавок, бажано пропустити першу коливання або два. Щоб виміряти відстань між коливаннями більш легко, спочатку позначте коливання, після чого виміряйте відстань між позначками з лінійкою або затискачами:

   Увійти [Маркове кільце](img/ringing-mark.jpg) }} [Measure ringing](img/ringing-measure.jpg) }}
1. Кількість коливань *N* вимірюється відстань *D* відповідає. Якщо ви не впевнені, як підрахувати коливання, зверніться до зображення вище, яке показує *N* = 6 коливань.
1. Розгорніть частоту занурювання осі X, як *V* · *N* / *D* (Хз), де *V* є швидкістю зовнішнього периметра (мм/сек). На прикладі вище ми позначили 6 коливань, і тест був надрукований на швидкості 100 мм/сек, тому частота 100 * 6 / 12.14 ≈ 49.4 Гц.
1. До (8) - (10) для марки Y.

Зверніть увагу, що кільце на тестовому друку слідувати шаблону вигнутих лавок, як на малюнку вище. Якщо це не так, то цей дефект не є дійсно кільцем і має різне походження - або механічне, або зовнішнє питання. Перед застосуванням та налаштуванням вводних форм.

Якщо вимірювання ненадійні через, скажімо, відстань між коливаннями нестабільна, це може означати, що принтер має кілька резонансних частот на одній осі. Натомість можна спробувати виконати процес налаштування, описаний у розділі [Ненадійні вимірювання частот дзвінків](#unreliable-measurements-of-ringing-frequencies), і все одно отримати щось із техніки формування вхідних даних.

Частота забору може залежати від положення моделі в межах будівельної плити і висоти Z, * особливо від принтерів delta*; ви можете перевірити, якщо ви бачите відмінності в частотах на різних позиціях по сторонах тестової моделі і на різних висотах. Ви можете розрахувати середні частоти за допомогою X і Y, якщо це випадок.

Якщо виміряна частота дзвінка дуже низька (повторна приблизно 20-25 Гц), це може бути гарною ідеєю для інвестування в жорсткість принтера або зменшення рухомої маси - в залежності від того, яка застосовується у вашому випадку - перш ніж продовжити з подальшим входом на формування тюнінга, і повторно збільшуючи частоти після Для багатьох популярних моделей принтера часто є деякі рішення, доступні вже.

Зауважте, що частота кільця може змінюватися, якщо зміни внесені до принтера, які впливають на рухову масу або змінюють жорсткість системи, наприклад:

* Деякі інструменти встановлюються, видалені або замінені на інструментголові, які змінюють свою масу, наприклад, новий (спадковий або запальний) кроковий двигун для прямого екструдера або нового гарячика встановлюється, важкий вентилятор з протоком додається і т.д.
* Ремені затягуються.
* Встановлено деякі додатки для збільшення жорсткості рами.
* Додаткове ліжко встановлюється на плащовий принтер, або скло додано і т.д.

Якщо такі зміни внесені, це хороша ідея, щоб принаймні виміряти частоту дзвінка, щоб побачити, якщо вони змінилися.

### Конфігурація формувача

Після вимірюваних частот кільця для X і Y ви можете додати наступний розділ до вашого `printer.cfg`:

```
[input_shaper]
shaper_freq_x: ... # частота для X маркування тестової моделі
shaper_freq_y: ... # частота для знака Y тестової моделі
```

На прикладі вище ми отримуємо формувальну_freq_x/y = 49.4.

### Вибір вхідної форми

Кліппер підтримує кілька форматорів введення. Вони відрізняються своєю чутливістю до помилок, що визначають резонансну частоту і скільки розгладжування вони викликають у друкованих деталях. Також деякі з форматорів, як 2HUMP_EI і 3HUMP_EI, як правило, не повинні використовуватися з форматором_freq = резонансна частота - вони налаштовані з різних міркування, щоб зменшити кілька резонансів одночасно.

Для більшості принтерів можна використовувати як MZV або EI. Цей розділ описує процес тестування, щоб вибрати між ними, і дізнатися кілька інших пов'язаних параметрів.

Друк моделі тестування кільця:

1. Решта прошивки: `RESTART`
1. Підготовка до тестування: `SET_VELOCITY_LIMIT МІНІМУМ_КРУС_РАТІО=0`
1. Відключений тиск: `SET_PRESSURE_ADVANCE ADVANCE=0`
1. `SET_INPUT_SHAPER SHAPER_TYPE=MZV`
1. Виконання команди: `TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5`
1. Друк тестової моделі зрізаний за допомогою запропонованих параметрів.

Якщо ви не бачите кільце в цій точці, то для використання може бути рекомендований формар МЗВ.

Якщо ви бачите деякі кільця, перезабезпечте частоти за допомогою кроків (8)-(10), описаних в розділі [Рінг частота](#ringing-частота). Якщо частоти значно відрізняються від значень, які ви отримали раніше, потрібна більш складна конфігурація вводу. Ви можете звернутися до Технічних реквізитів розділу [Вхідні фігурки](#вхідні пастки). В іншому випадку приступаємо до наступного кроку.

Тепер спробуйте EI вхідної форми. Щоб спробувати це, повторіть кроки (1)-(6) з вище, але виконуючи на крок 4 наступні команди замість: `SET_INPUT_SHAPER SHAPER_TYPE=EI`.

Порівняйте два друки з MZV і EI вводним форматором. Якщо EI показує помітно кращі результати, ніж MZV, скористайтеся формою EI, інакше віддають перевагу MZV. Зауважте, що EI форматор призведе до більш гладкості у друкованих деталях (див. наступний розділ для подальших деталей). Додати `shaper_type: mzv` (або ei) параметр до розділу [input_shaper], наприклад:

```
[input_shaper]
 shaper_freq_x: ...
 shaper_freq_y: ...
 тип_формувача: мзв
```

Кілька нот на вибір формера:

* ЕІ-форматор може бути більш придатним для принтерів лежачих (якщо резонансна частота і отримана розгладжування дозволяє): в якості більшої нитки приводиться на рухоме ліжко, маса спального місця збільшується і частота резонансу зменшиться. Оскільки EI-форматор більш надійний для резонансних змін частоти, він може працювати краще при друку великих деталей.
* У зв'язку з характером дельти-кінематики, резонансні частоти можуть відрізнятися в різних частинах об'єму будівлі. Таким чином, EI-форматор може бути краще підходить для принтерів дельта, а не MZV або ZV, і слід враховувати для використання. Якщо резонансна частота досить велика (більше 50-60 Гц), то можна навіть намагатися перевірити 2HUMP_EI-форматор (для запуску запропонованого тесту над `SET_INPUT_SHAPER SHAPER_TYPE=2HUMP_EI`), але перевірте міркування в [розділ нижче](#selecting-max_accel) перед тим, як це зробити.

### Вибір макс_accel

Ви повинні мати друкований тест для фігуратора, який ви вибрали з попереднього кроку (якщо ви не, роздрукуйте тестову модель, зрізану з [переглянуті параметри](#tuning) з передовим відключенням тиску `SET_PRESSURE_ADVANCE ADVANCE=0` і з тюнінговою вежею, включеною як `TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5`). Зверніть увагу, що при дуже високих прискореннях, в залежності від частоти резонансу та обраної форми вводу (наприклад, EI-форматор створює більш гладкі, ніж MZV), вводне формування може призвести занадто багато згладжування та округлення деталей. Таким чином, максимальна кількість відключень повинна бути обрана таким чином, щоб запобігти цьому. Ще один параметр, який може вплинути на розгладжування `square_corner_velocity`, тому не бажано збільшити його над за замовчуванням 5 мм/сек, щоб запобігти збільшенню згладжування.

Для вибору відповідного значення max_accel, перевірте модель для обраного вхідної форми. По-перше, візьміть замітку, при якому прискорення кільце все ще невелике - що ви комфортно з ним.

Далі перевірте розгладжування. Щоб допомогти з тим, що модель тесту має невеликий проміжок в стіні (0.15 мм):

! [Test gap](img/smoothing-test.png)

Як підвищується прискорення, тому робить розгладжування, а фактичний проміжок у принті ширше:

! [Shaper Smoothing](img/shaper-smoothing.jpg)

У цій картині прискорення посилюється зліва направо, а зазор починає рости від 3500 мм/сек^2 (5-й смуги зліва). Отже, хороше значення для max_accel = 3000 (мм/сек^2) в цьому випадку, щоб уникнути зайвого згладжування.

Зверніть увагу на прискорення, коли проміжок ще дуже невеликий у своєму тестовому друку. Якщо ви бачите повзунки, але не зазор в стіні взагалі, навіть при високих прискореннях вона може бути пов'язана з відключенням тиску вперед, особливо на екструдерів Bowden. Якщо це випадок, вам може знадобитися повторити друк за допомогою ПА. Це також може бути результатом неправильного (до високого) потоку ниток, тому це гарна ідея для перевірки.

Виберіть мінімум з двох значень прискорення (з кількості та згладжування), і покласти його як `max_accel` в принтер.cfg.

Як замітка, це може статися - особливо на низьких частотах кільця - що форматор EI викличе занадто багато розгладжування навіть при нижніх прискореннях. У цьому випадку MZV може бути кращим вибором, оскільки це може дозволити більш високі значення прискорення.

На дуже низьких частотах дзвінка (~25 Гц і нижче) навіть формувач MZV може створити занадто сильне згладжування. Якщо це так, ви також можете спробувати повторити кроки в розділі [Вибір формувача введення](#choosing-input-shaper) із формувальником ZV, використовуючи натомість команду `SET_INPUT_SHAPER SHAPER_TYPE=ZV`. Формувальник ZV повинен демонструвати навіть менше згладжування, ніж MZV, але більш чутливий до помилок у вимірюванні частот дзвінка.

Ще одна думка полягає в тому, що якщо резонансна частота занадто низька (до 20-25 Гц), вона може бути гарною ідеєю для збільшення жорсткості принтера або зменшення рухомої маси. В іншому випадку швидкість прискорення та друку може бути обмежена через занадто багато розгладжування, а не кільце.

### Витончений резонансні частоти

Зауважте, що точність вимірювань резонансних частот за допомогою тест-модель з кільця є достатньою для більшості цілей, тому подальше налаштування не рекомендується. Якщо ви все ще хочете спробувати подвійно перевірити ваші результати (наприклад, якщо ви все ще бачите деякі кільця після друку тестової моделі з входом формаром вашого вибору з однаковими частотами, як ви вимірювали раніше), ви можете дотримуватися кроків в цьому розділі. Зверніть увагу, що якщо ви бачите кільце на різних частотах після включення [input_shaper], цей розділ не допоможе з цим.

Припустимо, що ви зрізаєте модель кільця з запропонованими параметрами, завершити наступні кроки для кожного з осей X і Y:

1. Підготовка до тестування: `SET_VELOCITY_LIMIT МІНІМУМ_КРУС_РАТІО=0`
1. Зареєструватися Розширений тиск: `SET_PRESSURE_ADVANCE ADVANCE=0`
1. `SET_INPUT_SHAPER SHAPER_TYPE=ZV`
1. З існуючої моделі тестування кільця з вибраним входом виберіть прискорення, що показує кільце досить добре, і встановити його з: `SET_VELOCITY_LIMIT ACCEL=...`
1. Розрахувати необхідні параметри для параметра `TUNING_TOWER`, щоб налаштувати `shaper_freq_x`: start = shaper_freq_x * 83 / 132 і фактор = формаr_freq_x / 66, де `shaper_freq_x` тут є значення `printer.cfg`.
1. Виконувати команду: `TUNING_TOWER COMMAND=SET_INPUT_SHAPER PARAMETER=SHAPER_FREQ_X START=start FACTOR=фактор BAND=5` за допомогою `start` і [136X]фактор` значення розраховані на крок (5).
1. Друк тестової моделі.
1. Заміна початкової частоти: `SET_INPUT_SHAPER SHAPER_FREQ_X=`.
1. Знайдіть гурт, який показує кільце принаймні і відрахуйте його кількість знизу від 1.
1. Обчислення нової форми_freq_x значення через старий форматор_freq_x * (39 + 5 * #band-number) / 66.

Повторіть ці кроки для осі Y таким же чином, замінивши посилання на вісь X з віссю Y (наприклад, замініть `shaper_freq_x` з `shaper_freq_y` у формулі і в `TUNING_TOWER`).

Як приклад, припустимо, що у вас була виміряна частота кільця для однієї з осі дорівнює 45 Гц. Це дає початок = 45 * 83 / 132 = 28.30 і фактор = 45 / 66 = 0,6818 значення для команди `TUNING_TOWER`. Тепер припустимо, що після друку тестової моделі четвертий гурт знизу дає найменше кільце. Це дає оновлений форматор_freq_? до 45 * (39 + 5 * 4) / 66 ≈ 40.23.

Після нового `shaper_freq_x` і `shaper_freq_y` параметри можна оновити `[input_shaper]` розділ `printer.cfg` з новим `shaper_freq_x` і `shaper_freq_y` значення.

### Тиск вперед

Якщо ви використовуєте просунутий тиск, це може знадобитися повторно. Перейдіть за посиланням [instructions](Pressure_Advance.md#tuning-pressure-advance) для пошуку нового значення, якщо він відрізняється від попереднього. Переконайтеся, що перезавантажити кліппер перед перетягуванням тиску.

### Ненадійні вимірювання частоти кільця

Якщо ви не змогли вимірювати частоти кілець, наприклад, якщо відстань між коливаннями не стабільна, ви все ще зможете скористатися методиками вводу, але результати можуть бути як добре, так і при правильній вимірюванні частот, і вимагатиме трохи більше тюнінгу і друку тестової моделі. Зауважте, що ще одна можливість полягає в придбанні та встановленні акселерометра та вимірюванні резонансів з ним (відновлення до [довідок](Measuring_Resonances.md) опису необхідного обладнання та процесу налаштування) - але цей варіант вимагає деякої ламки і паяльниці.

Для налаштування додайте порожні `[input_shaper]` розділ до розділу `printer.cfg`. Потім, припустимо, що ви зрізаєте модель з запропонованими параметрами, роздрукуйте модель тесту 3 рази наступним чином. Перший раз, до друку, бігти

1. `RESTART`
1. `SET_VELOCITY_LIMIT МІНІМУМ_КРУС_РАТІО=0`
1. `SET_PRESSURE_ADVANCE ADVANCE=0`
1. `SET_INPUT_SHAPER SHAPER_TYPE=2HUMP_EI SHAPER_FREQ_X=60 SHAPER_FREQ_Y=60`
1. `TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5`

і друкувати модель. Потім друкуйте модель знову, але до друку запустіть замість

1. `SET_INPUT_SHAPER SHAPER_TYPE=2HUMP_EI SHAPER_FREQ_X=50 SHAPER_FREQ_Y=50`
1. `TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5`

Потім роздрукуйте модель на 3-й раз, але зараз запустіть

1. `SET_INPUT_SHAPER SHAPER_TYPE=2HUMP_EI SHAPER_FREQ_X=40 SHAPER_FREQ_Y=40`
1. `TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5`

По суті, ми друкуємо моделі тестування кільця з TUNING_ TOWER за допомогою 2HUMP_EI формера з форматором_freq = 60 Гц, 50 Гц, 40 Гц.

Якщо жодна з моделей не означають поліпшення в кільці, то, на жаль, вона не схожа на способи формування вводу може допомогти вашому випадку.

В іншому випадку це може бути те, що всі моделі не відображаються, або деякі показують кільце і деякі - не так багато. Виберіть модель тесту з найвищою частотою, яка все ще показує хороші поліпшення в кільці. Наприклад, якщо моделі 40 Гц і 50 Гц показують майже не кільце, а модель 60 Гц вже показує ще одне кільце, приклеїти 50 Гц.

Тепер перевірте, чи достатньо EI у вашому випадку. Виберіть частоту EI на основі частоти 2HUMP_ Ви вибрали:

* Для 2HUMP_EI 60 Гц-форматор використовується EI-форматор з форматором_freq = 50 Гц.
* Для 2HUMP_EI 50 Hz формар, використання EI формар з форматор_freq = 40 Гц.
* Для 2HUMP_EI 40 Гц-форматор використовується EI-форматор з форматором_freq = 33 Гц.

Тепер роздрукуйте тестову модель ще раз, бігаючи

1. `SET_INPUT_SHAPER SHAPER_TYPE=EI SHAPER_FREQ_X=... SHAPER_FREQ_Y=`
1. `TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5`

надання формувача_freq_x=... і формаr_freq_y=... як визначено раніше.

Якщо EI-форматор показує дуже вигідні результати, як 2HUMP_EI-форматор, приклеїти EI-форматором і частотою, визначеною раніше, інакше використовується 2HUMP_EI-форматор з відповідною частотою. Додати результати до `printer.cfg`, як, наприклад.

```
[input_shaper]
 shaper_freq_x: 50
 shaper_freq_y: 50
 shaper_type: 2hump_ei
```

Продовжити тюнінг з розділом [Виберіть max_accel](#selecting-max_accel).

## Виправлення несправностей та FAQ

### Я не можу отримати надійні вимірювання резонансних частот

По-перше, переконайтеся, що це не одна інша проблема з принтером замість дзвінка. Якщо вимірювання ненадійні, тому що, скажеш, відстань між коливаннями не стабільна, це може означати, що принтер має кілька резонансних частот на одній осі. Один може спробувати слідувати процесу тюнінгу, описаному в розділі [Ненадійні вимірювання частоти рингів](#безпосередньо-збережені-закриття-підготовки-фракції) і все-таки отримати щось з техніки вводу. Ще однією можливістю є встановлення акселерометра, [застосування](Measuring_Resonances.md) резонансів з ним, а також автоматичного відключення вхідного формуляра за допомогою результатів цих вимірювань.

### Після надання допомоги [input_shaper] я отримав занадто гладкі друковані частини і дрібні деталі втрачені

Перевірити розгляди в розділі [Вибір максимальн_accel](#selecting-max_accel) Якщо резонансна частота низька, не варто встановлювати занадто високі показники максимальної потужності або збільшити параметри квадрата_corner_velocity. Також можна вибрати MZV або навіть ZV-форматори для входу в EI (або 2HUMP_EI та 3HUMP_EI).

### Після успішного друку на деякий час без кільце, вона з'являється, щоб повернутися назад

Імовірно, через деякий час резонансні частоти змінилися. наприклад можливо, змінився натяг ременів (послабилися ремені) тощо. Рекомендується перевірити та повторно виміряти частоти дзвінка, як описано в розділі [Частота дзвінка](#ringing-frequency), і за потреби оновити файл конфігурації .

### Чи підтримується подвійна настройка вагонетки з вводами?

Так. У цьому випадку слід заміряти резонанси двічі на кожне перевезення. Наприклад, якщо на осі X встановлена друга (подвійна) вагонка, можна встановити різні форми введення для осі X для первинних і подвійних вагонів. Тим не менш, вводний формувач для осі Y повинен бути таким же для обох вагонів (як в кінцевому підсумку це вісь приводиться до одного або декількох крокових моторів, які збираються виконувати точно ті ж кроки). У розділі ` натисніть кнопку `[delayed_gcode]`:

```
[input_shaper]
Нема Важкий порожній

[delayed_gcode init_shaper]
початковий_duration: 0 р.
гкод:
SET_DUAL_CARRIAGE CARRIAGE=1
СЕТ_INPUT_SHAPER SHAPER_TYPE_X=<dual_carriage_shaper> SHAPER_FREQ_X=<dual_carriage_freq> SHAPER_TYPE_Y=<y_shaper> SHAPER_FREQ_Y=<y_freq>
SET_DUAL_CARRIAGE CARRIAGE=0
СЕТ_INPUT_SHAPER SHAPER_TYPE_X=<primary_carriage_shaper> SHAPER_FREQ_X=<primary_carriage_freq> SHAPER_TYPE_Y=<y_shaper> SHAPER_FREQ_Y=<y_freq>
```

Зверніть увагу, що `SHAPER_TYPE_Y` і `SHAPER_FREQ_Y` повинні бути такими ж, як команди. Також можна покласти схожу хіппе на старт g-код у скибочках, проте потім формар не буде ввімкнено до початку друку.

Зауважте, що форма входу потрібно налаштувати один раз. Послідовні зміни вагонів або їх режимів через `SET_DUAL_CARRIAGE` команди зберігати настрочені параметри вводу.

### Чи впливає на час друку?

Немає, `input_shaper` функція має досить багато ніякого впливу на час друку. Тим не менш, значення `max_accel`, безумовно, робить (встановлення цього параметра, описаного в розділі [Цей розділ](#selecting-max_accel)).

## Технічні характеристики

### Вхідні форми

Вхідні форми, що використовуються в Кліппері, є досить стандартними, і можна знайти більш глибокий огляд у статтях, що характеризують відповідні форми. Цей розділ містить короткий огляд деяких технічних аспектів підтримуваних форм. Таблиця нижче показує деякі (зазвичай приблизні) параметри кожного фігуратора.

| Вхід <br> формар | Шейпер <br> тривалість | Зменшення вібрації 20х <br> (5% толерантність до вібрації) | Зменшення вібрації 10x <br> (10% толерантність до вібрації) |
| :-: | :-: | :-: | :-: |
| ЗВ | 0.5 / форма_freq | Невідомо | ± 5% формар_фрек |
| МЗВ | 0 товар(ов) - 0.00 р | ± 4% формар_фрек | -10%...+15% формар_фрек |
| ЗВД | 1 / формар_фрек | ± 15% формар_фрек | ± 22% формар_фрек |
| ЕІ | 1 / формар_фрек | ± 20% формар_фрек | ± 25% формар_фрек |
| 2HUMP_EI | 1.5 / формар_фрек | ± 35% формар_фрек | ± 40 формар_фрек |
| 3HUMP_EI | 2 / форма_freq | -45...+50% формар_фрек | -50%...+55% форма_freq |

Замітка про зменшення вібрації: значення таблиці вище приблизні. Якщо коефіцієнт пошкодження принтера відомий за кожну віссю, то формар може бути налаштований більш точно, а потім зменшити резонанси в трохи ширшому діапазоні частот. Тим не менш, коефіцієнт пошкодження зазвичай невідомий і важко оцінити без спеціального обладнання, тому Klipper використовує значення 0.1 за замовчуванням, що є хорошим цілим значенням. Частота діапазонів в таблиці охоплює ряд різних можливих демпферних коефіцієнтів навколо цього значення (близько від 0,05 до 0,2).

Також зверніть увагу, що EI, 2HUMP_EI, 3HUMP_ EI налаштовані для зменшення коливань до 5%, тому значення для 10% толерантності до коливань передбачені тільки для посилання.

**Як використовувати цей стіл:**

* Тривалість шейпера впливає на розгладжування деталей - чим більше він, тим більш гладкі деталі. Ця залежність не лінійна, але може дати відчуття того, що фігурники 'smooth' більш для однакової частоти. Зварювальне замовлення: ZV < MZV < ZVD ≈ < 2HUMP_EI < 3HUMP_EI. Крім того, це рідко практичне встановлення формера_freq = резонансний фрек для форматорів 2HUMP_EI і 3HUMP_EI (вони слід використовувати для зменшення коливань на кілька частот).
* Можна оцінити діапазон частот, в яких формар зменшує вібрації. Наприклад, MZV з форматором_freq = 35 Hz зменшує вібрації до 5% для частот [33.6, 36.4] Hz. 3HUMP_EI з форматор_freq = 50 Hz зменшує вібрації до 5% в діапазоні [27.5, 75] ХХз.
* Можна використовувати цей столик, щоб перевірити, який форматор повинен використовуватися, якщо вони повинні зменшити вібрації на декількох частотах. Наприклад, якщо один має резонанси на 35 Гц і 60 Гц на тій же осі: a) EI формар повинен мати формар_freq = 35 / (1 - 0,2) = 43.75 Hz, і це знизить резонанси до 43.75 * (1 + 0,2) = 52.5 Hz, так що це не достатній; b) 2HUMP_EI формар повинен мати формар_freq = 35 / (1 - 0.35) = 53.85 Hz і зменшить вібрації до 53.85 * (1 + 0,35) = 72.7 Hz - так це прийнятна конфігурація. Завжди намагайтеся використовувати якомога вище формаr_freq як можна для даної форми (пергапи з деякими запасами безпеки, тому в цьому прикладі формаr_freq ≈ 50-52 Гц буде працювати краще), і спробувати використовувати фігурку з максимально невеликою тривалістю фігури.
* Якщо комусь потрібно зменшити вібрацію на кількох дуже різних частотах (скажімо, 30 Гц і 100 Гц), вони можуть побачити, що таблиця вище не надає достатньо інформації. У цьому випадку вам може пощастити більше зі сценарієм [scripts/graph_shaper.py](../scripts/graph_shaper.py), який є більш гнучким.
